<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>batou on Jürgen Gmach</title><link>https://jugmac00.github.io/tags/batou/</link><description>Recent content in batou on Jürgen Gmach</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 27 Apr 2021 08:51:48 +0200</lastBuildDate><atom:link href="https://jugmac00.github.io/tags/batou/index.xml" rel="self" type="application/rss+xml"/><item><title>How to Globally Gitignore Configuration Files</title><link>https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/</link><pubDate>Tue, 27 Apr 2021 08:51:48 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/</guid><description>Until today, I did not make up my mind about what to do with configuration files, created by e.g. VS Code.
Certainly, I do not want to commit them, but putting it into every&amp;rsquo;s repository .gitignore file is also cumbersome - and sometimes it is not possible.
I always do a git add -u to avoid accidentally adding a venv or similar, so it did not really matter.
Except&amp;hellip;
❯ .</description></item><item><title>How to Fix a Broken Rollback on Nixos, caused by mixed Python Environments</title><link>https://jugmac00.github.io/til/how-to-fix-broken-rollback-on-nixos/</link><pubDate>Tue, 23 Mar 2021 19:14:44 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-fix-broken-rollback-on-nixos/</guid><description>Today I tried to update a Nixos channel to 20.09.xxx, but the virtual machine was still running on 15.09, and seemingly the nix-version was pinned.
I got an error saying something like the nix version is too low.
I then tried to do a rollback, but then I got another following error:
ERROR: ./batou --help Return code: 1 STDOUT Running unclean installation from requirements.txt Ensuring unclean install ... .batou/unclean/bin/python -m pip install -r requirements.</description></item><item><title>How to Configure Git for Testing</title><link>https://jugmac00.github.io/til/how-to-configure-git-for-testing/</link><pubDate>Mon, 16 Nov 2020 07:01:19 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-configure-git-for-testing/</guid><description>batou is a configuration management and deployment tool, comparable to Ansible.
With batou you can deploy applications, also from git repositories.
For this batou uses the git binary - so this has to be tested somehow.
One test looks like this&amp;hellip;
def test_git_remote_init_pull(tmpdir): source = tmpdir.mkdir(&amp;#34;source&amp;#34;) dest = tmpdir.mkdir(&amp;#34;dest&amp;#34;) with source.as_cwd(): remote_core.cmd(&amp;#34;git init&amp;#34;) source.join(&amp;#34;foo.txt&amp;#34;).write(&amp;#34;bar&amp;#34;) remote_core.cmd(&amp;#34;git add foo.txt&amp;#34;) remote_core.cmd(&amp;#34;git commit -m bar&amp;#34;) remote_core.ensure_repository(str(dest), &amp;#34;git-bundle&amp;#34;) remote_core.git_pull_code(str(source), &amp;#34;master&amp;#34;) remote_core.git_update_working_copy(&amp;#34;master&amp;#34;) assert &amp;#34;bar&amp;#34; == dest.join(&amp;#34;foo.txt&amp;#34;).read() &amp;hellip; and worked in some environments, even on Travis, but failed on my Ubuntu box, and later also on GH Actions:</description></item></channel></rss>