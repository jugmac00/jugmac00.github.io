<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>pytest on Jürgen Gmach</title><link>https://jugmac00.github.io/tags/pytest/</link><description>Recent content in pytest on Jürgen Gmach</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 30 Nov 2021 17:07:22 +0100</lastBuildDate><atom:link href="https://jugmac00.github.io/tags/pytest/index.xml" rel="self" type="application/rss+xml"/><item><title>Testing Argparse Applications - the Better Way</title><link>https://jugmac00.github.io/blog/testing-argparse-applications-the-better-way/</link><pubDate>Tue, 30 Nov 2021 17:07:22 +0100</pubDate><guid>https://jugmac00.github.io/blog/testing-argparse-applications-the-better-way/</guid><description>When you are creating command line applications in Python, you probably heard of argparse, which is a great library for exactly doing this, and it is even included in Python&amp;rsquo;s standard library.
Imagine you have created the following argparse application:
&amp;lt;main.py&amp;gt;
#!/usr/bin/env python import argparse def main(): parser = argparse.ArgumentParser() parser.add_argument('--name', required=True) args = parser.parse_args() print(f'Hello {args.name}') if __name__ == '__main__': sys.exit(main()) Looks straightforward, works great, but at one point, you certainly want to add tests for it, right?</description></item><item><title>How to Bring Color Back Into tox4 and pytest</title><link>https://jugmac00.github.io/til/how-to-bring-color-back-into-tox-and-pytest/</link><pubDate>Fri, 11 Jun 2021 15:48:12 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-bring-color-back-into-tox-and-pytest/</guid><description>When I first tried the pre-release of the upcoming tox rewrite, I noticed tox itself has funky new colors - which I like a lot&amp;hellip;
But what happened with the green dots for pytest'soutput?
You may recall, running the old tox or pytest directly, the dots would be green&amp;hellip;
why has this changed Honestly, I am not 100% sure.
But I know how to get the colors back.
All you need to do is changing this line commands = pytest {posargs} in your tox.</description></item><item><title>How to Test Log Output With zope.testrunner</title><link>https://jugmac00.github.io/til/how-to-test-log-output-with-zope-testrunner/</link><pubDate>Sat, 24 Apr 2021 13:42:58 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-test-log-output-with-zope-testrunner/</guid><description>How to test log output with zope.testrunner? While pytest makes it very easy to work with log files via the caplog fixture, I was not aware how to test them with zope.testrunner, which is used for almost all Zope repositories.
When I asked during yesterday&amp;rsquo;s Zope sprint, I got no answer.
But coincidentally, I stumbled upon a broken doctest which&amp;hellip; tests the log output of a function!
So&amp;hellip; thanks for failing&amp;hellip; I guess :-)</description></item><item><title>What Is the Difference Between Invoking `pytest` and `python -m pytest`</title><link>https://jugmac00.github.io/til/what-is-the-difference-between-invoking-pytest-and-python-m-pytest/</link><pubDate>Thu, 03 Dec 2020 09:16:51 +0200</pubDate><guid>https://jugmac00.github.io/til/what-is-the-difference-between-invoking-pytest-and-python-m-pytest/</guid><description>Yesterday, I was recommended to have a look at Shopyo - Open inventory management and Point of sales.
As I am passionate about testing and CI, I always have a look at configuration files for newly discovered projects.
After I cloned the repository, I tried to run the tests.
So, without having a look into the documentation ( :-/ ), I
created a virtual env installed the dependencies ran pytest from the root of the project &amp;hellip; and got a ModuleNotFoundError The friendly maintainers of the projects pointed me in the right direction on how to run tests for this project:</description></item></channel></rss>