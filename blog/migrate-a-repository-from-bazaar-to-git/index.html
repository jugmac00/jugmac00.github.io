<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Migrate a Repository From Bazaar to Git | Jürgen Gmach</title>
<meta name=keywords content="bazaar,bzr,git,launchpad,breezy"><meta name=description content="Bazaar is a distributed version control system (VCS), developed by Canonical.
For a long time, Bazaar was the only supported VCS on Launchpad.
Launchpad is a code hosting platform, similar to the now prevalent GitHub, and while open to the public, nowadays it is mostly used by Canonical itself and many other individuals and companies to manage the whole lifecycle of creating packages for Ubuntu and its distributions.
Since quite some time also git is a supported VCS on Launchpad."><meta name=author content><link rel=canonical href=https://jugmac00.github.io/blog/migrate-a-repository-from-bazaar-to-git/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://jugmac00.github.io/blog/migrate-a-repository-from-bazaar-to-git/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Migrate a Repository From Bazaar to Git"><meta property="og:description" content="Bazaar is a distributed version control system (VCS), developed by Canonical.
For a long time, Bazaar was the only supported VCS on Launchpad.
Launchpad is a code hosting platform, similar to the now prevalent GitHub, and while open to the public, nowadays it is mostly used by Canonical itself and many other individuals and companies to manage the whole lifecycle of creating packages for Ubuntu and its distributions.
Since quite some time also git is a supported VCS on Launchpad."><meta property="og:type" content="article"><meta property="og:url" content="https://jugmac00.github.io/blog/migrate-a-repository-from-bazaar-to-git/"><meta property="article:section" content="blog"><meta property="article:published_time" content="2021-11-05T00:05:09+02:00"><meta property="article:modified_time" content="2021-11-05T00:05:09+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Migrate a Repository From Bazaar to Git"><meta name=twitter:description content="Bazaar is a distributed version control system (VCS), developed by Canonical.
For a long time, Bazaar was the only supported VCS on Launchpad.
Launchpad is a code hosting platform, similar to the now prevalent GitHub, and while open to the public, nowadays it is mostly used by Canonical itself and many other individuals and companies to manage the whole lifecycle of creating packages for Ubuntu and its distributions.
Since quite some time also git is a supported VCS on Launchpad."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Blogs","item":"https://jugmac00.github.io/blog/"},{"@type":"ListItem","position":2,"name":"Migrate a Repository From Bazaar to Git","item":"https://jugmac00.github.io/blog/migrate-a-repository-from-bazaar-to-git/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Migrate a Repository From Bazaar to Git","name":"Migrate a Repository From Bazaar to Git","description":"Bazaar is a distributed version control system (VCS), developed by Canonical.\nFor a long time, Bazaar was the only supported VCS on Launchpad.\nLaunchpad is a code hosting platform, similar to the now prevalent GitHub, and while open to the public, nowadays it is mostly used by Canonical itself and many other individuals and companies to manage the whole lifecycle of creating packages for Ubuntu and its distributions.\nSince quite some time also git is a supported VCS on Launchpad.","keywords":["bazaar","bzr","git","launchpad","breezy"],"articleBody":"Bazaar is a distributed version control system (VCS), developed by Canonical.\nFor a long time, Bazaar was the only supported VCS on Launchpad.\nLaunchpad is a code hosting platform, similar to the now prevalent GitHub, and while open to the public, nowadays it is mostly used by Canonical itself and many other individuals and companies to manage the whole lifecycle of creating packages for Ubuntu and its distributions.\nSince quite some time also git is a supported VCS on Launchpad.\nIn order to ease collaboration, let’s convert a Bazaar repository to git.\nPrerequisites In order get data out of a Bazaar repository, you need to install a Bazaar client and an export plugin.\nWithout going into details, you should install the latest version of Breezy, which is a Bazaar client and comes with the FastImport plugin, which also can export data.\n$ pipx install breezy Clone the Repository I choose lazr.config to demonstrate the process.\nLet’s go to the project on Launchpad, click on the code tab, and copy the command to clone the repository:\n$ brz branch lp:lazr.config Branched 25 revisions. $ cd lazr.config Interlude Before we continue, it is worth to have a look at the active reviews tab of the project.\nActive reviews are Launchpad’s equivalent to GitHub’s Pull Requests. They can’t be merged after the migration from Bazaar to Git, so we need to decide whether we merge them now, or politely ask the contributor to create a new merge proposal against the git repository.\nMigrate the Repository As both Bazaar and git use a “hidden” folder to store the meta data, we can perform the conversion in the same directory we cloned the repository into.\ngit init --initial-branch=main We need to use the -b option to specify a branch name other then master.\n$ brz fast-export -b main | git fast-import 21:33:45 Calculating the revisions to include ... 21:33:45 Starting export of 67 revisions ... 21:33:45 Adjusting path src/lazr/config/tests/test_docs.py given rename of src/lazr to lazr in revision b'barry@canonical.com-20130107011400-9fa1vo95jtuwtu6w' 21:33:45 Adjusting path src/lazr/config/NEWS.txt given rename of src/lazr to lazr in revision b'barry@canonical.com-20130110211153-1po6s4hapsvwyv4w' 21:33:45 Adjusting path src/lazr/config/tests/test_docs.py given rename of src/lazr to lazr in revision b'barry@canonical.com-20130110211153-1po6s4hapsvwyv4w' 21:33:45 Exported 67 revisions in 0:00:00 fast-import statistics: --------------------------------------------------------------------- Alloc'd objects: 5000 Total objects: 477 ( 148 duplicates ) blobs : 195 ( 90 duplicates 71 deltas of 186 attempts) trees : 215 ( 58 duplicates 159 deltas of 200 attempts) commits: 67 ( 0 duplicates 0 deltas of 0 attempts) tags : 0 ( 0 duplicates 0 deltas of 0 attempts) Total branches: 7 ( 1 loads ) marks: 1024 ( 67 unique ) atoms: 50 Memory total: 2493 KiB pools: 2141 KiB objects: 351 KiB --------------------------------------------------------------------- pack_report: getpagesize() = 4096 pack_report: core.packedGitWindowSize = 1073741824 pack_report: core.packedGitLimit = 35184372088832 pack_report: pack_used_ctr = 137 pack_report: pack_mmap_calls = 39 pack_report: pack_open_windows = 1 / 1 pack_report: pack_mapped = 555465 / 555465 --------------------------------------------------------------------- Almost finished.. This was easy.\nBut wait…\n$ git status On branch main Changes to be committed: (use \"git restore --staged ...\" to unstage) deleted: .bzrignore deleted: COPYING.txt deleted: HACKING.rst deleted: MANIFEST.in deleted: NEWS.rst deleted: README.rst deleted: conf.py deleted: setup.cfg deleted: setup.py deleted: src/lazr/__init__.py deleted: src/lazr/config/__init__.py deleted: src/lazr/config/_config.py deleted: src/lazr/config/_version.py deleted: src/lazr/config/docs/__init__.py deleted: src/lazr/config/docs/fixture.py deleted: src/lazr/config/docs/usage.rst deleted: src/lazr/config/docs/usage_fixture.py deleted: src/lazr/config/interfaces.py deleted: src/lazr/config/tests/__init__.py deleted: src/lazr/config/tests/test_config.py deleted: src/lazr/config/tests/testdata/__init__.py deleted: src/lazr/config/tests/testdata/bad-invalid-name-chars.conf deleted: src/lazr/config/tests/testdata/bad-invalid-name.conf deleted: src/lazr/config/tests/testdata/bad-nonascii.conf deleted: src/lazr/config/tests/testdata/bad-redefined-key.conf deleted: src/lazr/config/tests/testdata/bad-redefined-section.conf deleted: src/lazr/config/tests/testdata/bad-sectionless.conf deleted: src/lazr/config/tests/testdata/base.conf deleted: src/lazr/config/tests/testdata/local.conf deleted: src/lazr/config/tests/testdata/master-local.conf deleted: src/lazr/config/tests/testdata/master.conf deleted: src/lazr/config/tests/testdata/shared.conf deleted: tox.ini Untracked files: (use \"git add ...\" to include in what will be committed) .bzr/ .bzrignore COPYING.txt HACKING.rst MANIFEST.in NEWS.rst README.rst conf.py setup.cfg setup.py src/ tox.ini Help, what a mess!\nSir git add-a-lot I am not really sure why this happens, but you can fix it with the following command.\n$ git add -- . ':!.bzr' $ git status On branch main Untracked files: (use \"git add ...\" to include in what will be committed) .bzr/ nothing added to commit but untracked files present (use \"git add\" to track) Do not delete the .bzr folder yet!\nRename .bzrignore to .gitignore Before we continue I recommend to rename .bzrignore to .gitignore.\nWhile the format might not be 100% the same, just renaming was enough most of the time.\nDo not forget to add and commit this change to git.\nUpload the git Repository Next, we need to upload the git repository back to Launchpad.\nOn the project’s Launchpad site, go to the code tab, and then on the right click on Configure Code.\nOn the next screen select git.\nNow you see the the command to set the git remote address.\ngit remote add origin git+ssh://jugmac00@git.launchpad.net/lazr.config Now we can upload the repository.\ngit push --tags Where is my git Code? When you go to the code tab of the project, you still only see the Bazaar repository.\nActually, you could already switch to the git repository by clicking the link on the right.\nIn order to change the default view, you need to go to Configure Code again, choose git and this time hit the Update button.\ngit not done yet When you clone this new repository for the first time, you will be surprised…\n$ git clone git+ssh://jugmac00@git.launchpad.net/lazr.config Cloning into 'lazr.config'... remote: Enumerating objects: 479, done. remote: Counting objects: 100% (479/479), done. remote: Compressing objects: 100% (203/203), done. remote: Total 479 (delta 230), reused 479 (delta 230) Receiving objects: 100% (479/479), 542.84 KiB | 2.71 MiB/s, done. Resolving deltas: 100% (230/230), done. warning: remote HEAD refers to nonexistent ref, unable to checkout. The reason for the warning is that Launchpad’s default branch name is master.\nIn order to the change the default branch name, from the code tab, under the Other repositories section, I click on lp:lazr.config.\nOn the following page, on the right side, I click on Change repository details.\nAt the bottom I change the Default branch from refs/heads/master to refs/heads/main.\nNow, cloning works as intended.\nSubscriptions, anyone? While I am here, I check who is subscribed to the repository.\nBazaar, anyone? While the git repository is now the default one, you could still push to the Bazaar repository.\nThere is no obvious way to delete the Bazaar repository, but anyway there is a better way for a smooth transition.\nFirst, let’s delete all files from the Bazaar repository locally.\nbrz rm * Then we create a MOVED_TO_GIT file with the following content\nhttps://code.launchpad.net/lazr.config/+git … and then add and commit the note\nbrz add MOVED_TO_GIT brz commit -m \"Moved to git\" … and push it to the still existing Bazaar repository\nbrz push lp:lazr.config The end\nStill here? As the project’s documentation is not yet on Read the Docs, let’s keep going.\nAs Read the Docs does not support Launchpad’s webhooks, we need to both manually import and build the documentation, but that is pretty straightforward, so I am positive you will figure this out by yourself.\n","wordCount":"1138","inLanguage":"en","datePublished":"2021-11-05T00:05:09+02:00","dateModified":"2021-11-05T00:05:09+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jugmac00.github.io/blog/migrate-a-repository-from-bazaar-to-git/"},"publisher":{"@type":"Organization","name":"Jürgen Gmach","logo":{"@type":"ImageObject","url":"https://jugmac00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io/ accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://jugmac00.github.io/hiring/ title=hiring><span>hiring</span></a></li><li><a href=https://jugmac00.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Migrate a Repository From Bazaar to Git</h1><div class=post-meta><span title='2021-11-05 00:05:09 +0200 +0200'>November 5, 2021</span></div></header><div class=post-content><p>Bazaar is a distributed version control system (VCS), developed by Canonical.</p><p>For a long time, Bazaar was the only supported VCS on Launchpad.</p><p>Launchpad is a code hosting platform,
similar to the now prevalent GitHub,
and while open to the public,
nowadays it is mostly used by Canonical itself and many other individuals and companies
to manage the whole lifecycle of creating packages for Ubuntu and its distributions.</p><p>Since quite some time also <a href=https://blog.launchpad.net/general/git-code-hosting-beta>git</a> is a supported VCS on Launchpad.</p><p>In order to ease collaboration,
let&rsquo;s convert a Bazaar repository to git.</p><h2 id=prerequisites>Prerequisites<a hidden class=anchor aria-hidden=true href=#prerequisites>#</a></h2><p>In order get data out of a Bazaar repository,
you need to install a Bazaar client and an export plugin.</p><p>Without going into details,
you should install the latest version of <a href=https://pypi.org/project/breezy/>Breezy</a>,
which is a Bazaar client and comes with the <code>FastImport</code> plugin,
which also can export data.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ pipx install breezy
</span></span></code></pre></div><h2 id=clone-the-repository>Clone the Repository<a hidden class=anchor aria-hidden=true href=#clone-the-repository>#</a></h2><p>I choose <a href=https://launchpad.net/lazr.config>lazr.config</a> to demonstrate the process.</p><p>Let&rsquo;s go to the project on <a href=(https://launchpad.net/lazr.config)>Launchpad</a>,
click on the code tab,
and copy the command to clone the repository:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ brz branch lp:lazr.config
</span></span><span style=display:flex><span>Branched <span style=color:#ae81ff>25</span> revisions.
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ cd lazr.config
</span></span></code></pre></div><h2 id=interlude>Interlude<a hidden class=anchor aria-hidden=true href=#interlude>#</a></h2><p>Before we continue,
it is worth to have a look at the <a href=https://code.launchpad.net/lazr.config/+activereviews>active reviews</a> tab of the project.</p><p><code>Active reviews</code> are Launchpad&rsquo;s equivalent to GitHub&rsquo;s <code>Pull Requests</code>.
They can&rsquo;t be merged after the migration from Bazaar to Git,
so we need to decide whether we merge them now,
or politely ask the contributor to create a new merge proposal against the git repository.</p><h2 id=migrate-the-repository>Migrate the Repository<a hidden class=anchor aria-hidden=true href=#migrate-the-repository>#</a></h2><p>As both Bazaar and git use a &ldquo;hidden&rdquo; folder to store the meta data,
we can perform the conversion in the same directory we cloned the repository into.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git init --initial-branch<span style=color:#f92672>=</span>main
</span></span></code></pre></div><p>We need to use the <code>-b</code> option to specify a branch name other then <code>master</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ brz fast-export -b main | git fast-import
</span></span><span style=display:flex><span>21:33:45 Calculating the revisions to include ...
</span></span><span style=display:flex><span>21:33:45 Starting export of <span style=color:#ae81ff>67</span> revisions ...
</span></span><span style=display:flex><span>21:33:45 Adjusting path src/lazr/config/tests/test_docs.py given rename of src/lazr to lazr in revision b<span style=color:#e6db74>&#39;barry@canonical.com-20130107011400-9fa1vo95jtuwtu6w&#39;</span>
</span></span><span style=display:flex><span>21:33:45 Adjusting path src/lazr/config/NEWS.txt given rename of src/lazr to lazr in revision b<span style=color:#e6db74>&#39;barry@canonical.com-20130110211153-1po6s4hapsvwyv4w&#39;</span>
</span></span><span style=display:flex><span>21:33:45 Adjusting path src/lazr/config/tests/test_docs.py given rename of src/lazr to lazr in revision b<span style=color:#e6db74>&#39;barry@canonical.com-20130110211153-1po6s4hapsvwyv4w&#39;</span>
</span></span><span style=display:flex><span>21:33:45 Exported <span style=color:#ae81ff>67</span> revisions in 0:00:00
</span></span><span style=display:flex><span>fast-import statistics:
</span></span><span style=display:flex><span>---------------------------------------------------------------------
</span></span><span style=display:flex><span>Alloc<span style=color:#960050;background-color:#1e0010>&#39;</span>d objects:       <span style=color:#ae81ff>5000</span>
</span></span><span style=display:flex><span>Total objects:          <span style=color:#ae81ff>477</span> <span style=color:#f92672>(</span>       <span style=color:#ae81ff>148</span> duplicates                  <span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      blobs  :          <span style=color:#ae81ff>195</span> <span style=color:#f92672>(</span>        <span style=color:#ae81ff>90</span> duplicates         <span style=color:#ae81ff>71</span> deltas of        <span style=color:#ae81ff>186</span> attempts<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      trees  :          <span style=color:#ae81ff>215</span> <span style=color:#f92672>(</span>        <span style=color:#ae81ff>58</span> duplicates        <span style=color:#ae81ff>159</span> deltas of        <span style=color:#ae81ff>200</span> attempts<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      commits:           <span style=color:#ae81ff>67</span> <span style=color:#f92672>(</span>         <span style=color:#ae81ff>0</span> duplicates          <span style=color:#ae81ff>0</span> deltas of          <span style=color:#ae81ff>0</span> attempts<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      tags   :            <span style=color:#ae81ff>0</span> <span style=color:#f92672>(</span>         <span style=color:#ae81ff>0</span> duplicates          <span style=color:#ae81ff>0</span> deltas of          <span style=color:#ae81ff>0</span> attempts<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Total branches:           <span style=color:#ae81ff>7</span> <span style=color:#f92672>(</span>         <span style=color:#ae81ff>1</span> loads     <span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      marks:           <span style=color:#ae81ff>1024</span> <span style=color:#f92672>(</span>        <span style=color:#ae81ff>67</span> unique    <span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>      atoms:             <span style=color:#ae81ff>50</span>
</span></span><span style=display:flex><span>Memory total:          <span style=color:#ae81ff>2493</span> KiB
</span></span><span style=display:flex><span>       pools:          <span style=color:#ae81ff>2141</span> KiB
</span></span><span style=display:flex><span>     objects:           <span style=color:#ae81ff>351</span> KiB
</span></span><span style=display:flex><span>---------------------------------------------------------------------
</span></span><span style=display:flex><span>pack_report: getpagesize<span style=color:#f92672>()</span>            <span style=color:#f92672>=</span>       <span style=color:#ae81ff>4096</span>
</span></span><span style=display:flex><span>pack_report: core.packedGitWindowSize <span style=color:#f92672>=</span> <span style=color:#ae81ff>1073741824</span>
</span></span><span style=display:flex><span>pack_report: core.packedGitLimit      <span style=color:#f92672>=</span> <span style=color:#ae81ff>35184372088832</span>
</span></span><span style=display:flex><span>pack_report: pack_used_ctr            <span style=color:#f92672>=</span>        <span style=color:#ae81ff>137</span>
</span></span><span style=display:flex><span>pack_report: pack_mmap_calls          <span style=color:#f92672>=</span>         <span style=color:#ae81ff>39</span>
</span></span><span style=display:flex><span>pack_report: pack_open_windows        <span style=color:#f92672>=</span>          <span style=color:#ae81ff>1</span> /          <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>pack_report: pack_mapped              <span style=color:#f92672>=</span>     <span style=color:#ae81ff>555465</span> /     <span style=color:#ae81ff>555465</span>
</span></span><span style=display:flex><span>---------------------------------------------------------------------
</span></span></code></pre></div><h2 id=almost-finished>Almost finished..<a hidden class=anchor aria-hidden=true href=#almost-finished>#</a></h2><p>This was easy.</p><p>But wait&mldr;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Changes to be committed:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	deleted:    .bzrignore
</span></span><span style=display:flex><span>	deleted:    COPYING.txt
</span></span><span style=display:flex><span>	deleted:    HACKING.rst
</span></span><span style=display:flex><span>	deleted:    MANIFEST.in
</span></span><span style=display:flex><span>	deleted:    NEWS.rst
</span></span><span style=display:flex><span>	deleted:    README.rst
</span></span><span style=display:flex><span>	deleted:    conf.py
</span></span><span style=display:flex><span>	deleted:    setup.cfg
</span></span><span style=display:flex><span>	deleted:    setup.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/__init__.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/__init__.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/_config.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/_version.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/docs/__init__.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/docs/fixture.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/docs/usage.rst
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/docs/usage_fixture.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/interfaces.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/__init__.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/test_config.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/__init__.py
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-invalid-name-chars.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-invalid-name.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-nonascii.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-redefined-key.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-redefined-section.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/bad-sectionless.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/base.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/local.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/master-local.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/master.conf
</span></span><span style=display:flex><span>	deleted:    src/lazr/config/tests/testdata/shared.conf
</span></span><span style=display:flex><span>	deleted:    tox.ini
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Untracked files:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	.bzr/
</span></span><span style=display:flex><span>	.bzrignore
</span></span><span style=display:flex><span>	COPYING.txt
</span></span><span style=display:flex><span>	HACKING.rst
</span></span><span style=display:flex><span>	MANIFEST.in
</span></span><span style=display:flex><span>	NEWS.rst
</span></span><span style=display:flex><span>	README.rst
</span></span><span style=display:flex><span>	conf.py
</span></span><span style=display:flex><span>	setup.cfg
</span></span><span style=display:flex><span>	setup.py
</span></span><span style=display:flex><span>	src/
</span></span><span style=display:flex><span>	tox.ini
</span></span></code></pre></div><p>Help, what a mess!</p><h2 id=sir-git-add-a-lot>Sir git add-a-lot<a hidden class=anchor aria-hidden=true href=#sir-git-add-a-lot>#</a></h2><p>I am not really sure why this happens,
but you can fix it with the following command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git add -- . <span style=color:#e6db74>&#39;:!.bzr&#39;</span>
</span></span><span style=display:flex><span>$ git status
</span></span><span style=display:flex><span>On branch main
</span></span><span style=display:flex><span>Untracked files:
</span></span><span style=display:flex><span>  <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add &lt;file&gt;...&#34;</span> to include in what will be committed<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>	.bzr/
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>nothing added to commit but untracked files present <span style=color:#f92672>(</span>use <span style=color:#e6db74>&#34;git add&#34;</span> to track<span style=color:#f92672>)</span>
</span></span></code></pre></div><blockquote><p>Do not delete the <code>.bzr</code> folder yet!</p></blockquote><h2 id=rename-bzrignore-to-gitignore>Rename .bzrignore to .gitignore<a hidden class=anchor aria-hidden=true href=#rename-bzrignore-to-gitignore>#</a></h2><p>Before we continue
I recommend to rename <code>.bzrignore</code> to <code>.gitignore</code>.</p><p>While the format might not be 100% the same,
just renaming was enough most of the time.</p><p>Do not forget to add and commit this change to git.</p><h2 id=upload-the-git-repository>Upload the git Repository<a hidden class=anchor aria-hidden=true href=#upload-the-git-repository>#</a></h2><p>Next, we need to upload the git repository back to Launchpad.</p><p>On the project&rsquo;s Launchpad site,
go to the <strong>code</strong> tab,
and then on the right click on <code>Configure Code</code>.</p><p>On the next screen select <code>git</code>.</p><p>Now you see the the command to set the git remote address.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git remote add origin git+ssh://jugmac00@git.launchpad.net/lazr.config
</span></span></code></pre></div><p>Now we can upload the repository.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>git push --tags
</span></span></code></pre></div><h2 id=where-is-my-git-code>Where is my git Code?<a hidden class=anchor aria-hidden=true href=#where-is-my-git-code>#</a></h2><p>When you go to the <code>code</code> tab of the project,
you still only see the Bazaar repository.</p><blockquote><p>Actually, you could already switch to the git repository by clicking the link on the right.</p></blockquote><p>In order to change the default view,
you need to go to <code>Configure Code</code> again,
choose <code>git</code> and this time hit the <code>Update</code> button.</p><h2 id=git-not-done-yet>git not done yet<a hidden class=anchor aria-hidden=true href=#git-not-done-yet>#</a></h2><p>When you clone this new repository for the first time,
you will be surprised&mldr;</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git clone git+ssh://jugmac00@git.launchpad.net/lazr.config
</span></span><span style=display:flex><span>Cloning into <span style=color:#e6db74>&#39;lazr.config&#39;</span>...
</span></span><span style=display:flex><span>remote: Enumerating objects: 479, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Counting objects: 100% <span style=color:#f92672>(</span>479/479<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Compressing objects: 100% <span style=color:#f92672>(</span>203/203<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>remote: Total <span style=color:#ae81ff>479</span> <span style=color:#f92672>(</span>delta 230<span style=color:#f92672>)</span>, reused <span style=color:#ae81ff>479</span> <span style=color:#f92672>(</span>delta 230<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>Receiving objects: 100% <span style=color:#f92672>(</span>479/479<span style=color:#f92672>)</span>, 542.84 KiB | 2.71 MiB/s, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>Resolving deltas: 100% <span style=color:#f92672>(</span>230/230<span style=color:#f92672>)</span>, <span style=color:#66d9ef>done</span>.
</span></span><span style=display:flex><span>warning: remote HEAD refers to nonexistent ref, unable to checkout.
</span></span></code></pre></div><p>The reason for the warning is that Launchpad&rsquo;s default branch name is <code>master</code>.</p><p>In order to the change the default branch name,
from the <code>code</code> tab,
under the <code>Other repositories</code> section,
I click on <code>lp:lazr.config</code>.</p><p>On the following page,
on the right side,
I click on <code>Change repository details</code>.</p><p>At the bottom I change the <code>Default branch</code>
from <code>refs/heads/master</code> to <code>refs/heads/main</code>.</p><p>Now, cloning works as intended.</p><h2 id=subscriptions-anyone>Subscriptions, anyone?<a hidden class=anchor aria-hidden=true href=#subscriptions-anyone>#</a></h2><p>While I am here,
I check who is subscribed to the repository.</p><h2 id=bazaar-anyone>Bazaar, anyone?<a hidden class=anchor aria-hidden=true href=#bazaar-anyone>#</a></h2><p>While the git repository is now the default one,
you could still push to the Bazaar repository.</p><p>There is no obvious way to delete the Bazaar repository,
but anyway there is a better way for a smooth transition.</p><p>First, let&rsquo;s delete all files from the Bazaar repository locally.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brz rm *
</span></span></code></pre></div><p>Then we create a <code>MOVED_TO_GIT</code> file
with the following content</p><pre tabindex=0><code>https://code.launchpad.net/lazr.config/+git
</code></pre><p>&mldr; and then add and commit the note</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brz add MOVED_TO_GIT
</span></span><span style=display:flex><span>brz commit -m <span style=color:#e6db74>&#34;Moved to git&#34;</span>
</span></span></code></pre></div><p>&mldr; and push it to the still existing Bazaar repository</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>brz push lp:lazr.config
</span></span></code></pre></div><p>The end</p><h2 id=still-here>Still here?<a hidden class=anchor aria-hidden=true href=#still-here>#</a></h2><p>As the project&rsquo;s documentation is not yet on Read the Docs,
let&rsquo;s keep going.</p><p>As Read the Docs does not support Launchpad&rsquo;s webhooks,
we need to both manually import and build the documentation, but that is pretty straightforward,
so I am positive you will figure this out by yourself.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/bazaar/>Bazaar</a></li><li><a href=https://jugmac00.github.io/tags/bzr/>Bzr</a></li><li><a href=https://jugmac00.github.io/tags/git/>Git</a></li><li><a href=https://jugmac00.github.io/tags/launchpad/>Launchpad</a></li><li><a href=https://jugmac00.github.io/tags/breezy/>Breezy</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://jugmac00.github.io/>Jürgen Gmach</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>