<!doctype html>
<head>
<meta name="google-site-verification" content="txmqQrMWeC-Q8aYQOBrl04hiVU-3jBbfBsj5vK3OWSE" />
<meta charset="utf-8">
<link rel="stylesheet" href="../static/style.css">
<title>Blog — Jürgen Gmach</title>
</head>
<body>
  <header>
    <h1>Jürgen Gmach</h1>
    <nav>
      <ul class="nav navbar-nav">
        <li><a href="../">About me</a></li>
        
          <li class="active"><a href="../blog/">Blog</a></li>
        
      </ul>
    </nav>
  </header>
  <div class="page">
    
  
    
  <div class="blog-post">
  
    <h1><a href="../blog/recap-day-three-and-wrap-up-of-zope-spring-cleaning/">Recap day three and wrap up of &#34;Zope spring cleaning&#34;</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2019-05-10
  </p>
  <p>This blog post is work in progess... much more to come - but the train is only 10 minutes late (uncommon in Germany :-) ) , so I am not able finish the blog post now.</p>
<h2>tl/dr - what a ride!</h2>
<ul>
<li>today there was the final release of Zope 4! see <a href="https://blog.gocept.com/2019/05/10/celebration-zope-4-final-release/">blog post @gocept</a></li>
<li>Michael / @gocept announced the <a href="https://blog.gocept.com/2019/05/10/zope-roadmap/">roadmap</a> for Zope 2.13, Zope 4 and Zope 5</li>
</ul>
<h2>progress on day 3</h2>
<p>The main effort of everybody at the sprint was to wrap up all loose ends, finalize what one started, and of course get Zope 4 final released!</p>
<p>As there was no final standup, I try to list what I picked up...</p>
<ul>
<li>Michael<ul>
<li>finish and publish the above mentioned blog posts</li>
<li>trying to not get lost with those massive incoming GitHub updates</li>
<li>preparing and finally publishing the release of Zope 4</li>
<li>had a deeper look into the "allowed attributes" ticket together with Steffen; a safe last minute fix was not possible</li>
<li>even found time to review some open pull requests and to give me a helping hand for a test setup</li>
</ul>
</li>
<li>Jeremy<ul>
<li>finished enabling <a href="https://github.com/zopefoundation/zc.recipe.testrunner/pull/3">support for Python 3</a> for the zc.recipe.testrunner</li>
</ul>
</li>
<li>Steffen<ul>
<li>made up his mind about <a href="https://github.com/zopefoundation/Zope/issues/617">how to improve the speed for the Windows tests</a></li>
</ul>
</li>
<li>Daniel<ul>
<li><a href="https://github.com/zopefoundation/Products.ZCatalog/pull/77">improved styling</a> of the ZCatalog</li>
</ul>
</li>
<li>Jens Klein<ul>
<li>updated <a href="https://github.com/zopefoundation/Zope/pull/608">ZODB migration story</a></li>
<li>oh noes! announced the news that <strong>Plone</strong> - for some cases - can't yet use <strong>Zope 4</strong> - info came from Philip Bauer, cf <a href="https://github.com/zopefoundation/Zope/pull/610">ticket "allowed attributes"</a></li>
</ul>
</li>
<li>Jens Hinghaus<ul>
<li>got his pull request merged for <a href="https://github.com/zopefoundation/Zope/pull/605">fixing the ZMI serarch bug</a></li>
</ul>
</li>
<li>Jürgen<ul>
<li>update <a href="https://zope.readthedocs.io/en/latest/zdgbook/ObjectPublishing.html#xml-rpc">section about XML-RPC</a> of the Zope developer's guide, which also was the last section of Chapter 4 - which I started updating a whopping 8 months ago!!</li>
<li>started working on Chapter 5 <a href="https://zope.readthedocs.io/en/latest/zdgbook/Products.html">Zope Products</a></li>
<li>....</li>
</ul>
</li>
</ul>
<p>Again, Jens Vagelpohl, Marius and Dieter and maybe some more guys I possibly missed, supported the sprint massively from remote!</p>
<h2>more news</h2>
<p>There are some more news about <a href="https://community.plone.org/t/zope-contributor-agreement-process/8495">merging the Zope into the Plone foundation</a>.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/recap-day-two-of-zope-spring-cleaning/">Recap day two of &#34;Zope spring cleaning&#34;</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2019-05-10
  </p>
  <p>Very brief recap, as I want to spend the remaining time with some more documentation updates.</p>
<h2>progress</h2>
<ul>
<li>Jens Hinhaus<ul>
<li><a href="https://github.com/zopefoundation/Zope/pull/605">Fix bug in ZMI search</a></li>
<li><a href="https://github.com/zopefoundation/tempstorage/pull/11">improve tempstorage fix</a></li>
</ul>
</li>
<li>Steffen<ul>
<li>finished the documenation for the <a href="https://github.com/zopefoundation/Zope/issues/575">Nonsensical path issue</a></li>
<li>had some fun with getting <a href="https://github.com/zopefoundation/Zope/pull/613">AppVeyor</a> up and running for <strong>Zope</strong></li>
</ul>
</li>
<li>Daniel<ul>
<li><a href="https://github.com/zopefoundation/Products.ZCatalog/pull/75">fixed a bug in ZCatalog</a> (sorting did not work); migrated a DTML template to zpt</li>
</ul>
</li>
<li>Jeremy<ul>
<li>continued his work on <a href="https://github.com/zopefoundation/zc.recipe.testrunner/pull/3">zc.recipe.testrunner</a></li>
</ul>
</li>
<li>Jens Klein with Martin<ul>
<li>released <a href="https://pypi.org/project/zodbupdate">zodbupdate</a></li>
<li>released <a href="https://pypi.org/project/zodbverify/">zodbverify</a></li>
<li>opened a <a href="https://github.com/zopefoundation/Zope/pull/608">pull request</a> for the ZODB migration story</li>
</ul>
</li>
<li>Michael<ul>
<li>prepared a blog post for the Zope roadmap</li>
<li>prepared a blog post for the final release of Zope 4</li>
<li>released some more packages</li>
<li>is about preparing the final release of Zope 4!!!</li>
</ul>
</li>
<li>Jürgen<ul>
<li>filed a <a href="https://github.com/zopefoundation/Zope/issues/602">bug about a wrong path</a> when generating documentation locally</li>
<li>added a <a href="https://github.com/zopefoundation/Zope/issues/568">warning box</a> when using <strong>records</strong></li>
<li>updated <a href="file:///home/jugmac00/Projects/Zope/docs/_build/html/zdgbook/ObjectPublishing.html#exceptions-and-transactions">Exceptions and Transactions</a> in the Zope developer guide</li>
</ul>
</li>
</ul>
<p>Again, Jens Vagelpohl, Dieter, Marius and Jason very actively contributed from remote.</p>
<p>P.S.: I will update this blog post when I sit in the train back home... let's get Zope 4 ready to be released!</p>
<h2>updates</h2>
<p>2019-05-10</p>
<ul>
<li>add some links to pull requests and packages</li>
<li>fixed my mix up of "zodbmigrate" -&gt; "zodbverify"</li>
</ul>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/recap-of-the-first-day-of-saltlabs-sprint-zope-spring-cleaning/">Recap day one of &#34;Zope spring cleaning&#34;</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2019-05-09
  </p>
  <p><a href="https://www.meetup.com/de-DE/Zope-Sprint/events/259042717/">More infos about the sprint</a></p>
<ul>
<li>10 local sprinters</li>
<li>2 remote sprinters (Jens Vagelpohl and Dieter Maurer)</li>
</ul>
<h2>progress</h2>
<ul>
<li>Steffen<ul>
<li>had lots of fun with <a href="https://github.com/zopefoundation/Zope/issues/575">Nonsensical Path Infos</a></li>
<li>had a look at some of the open documentation tickets</li>
</ul>
</li>
<li>Jens Klein / Martin Häcker<ul>
<li>created a <a href="https://github.com/zopefoundation/zodbupdate/pull/15">pull request</a> to improve the zodpupdate script</li>
<li>created / extracted <a href="https://github.com/plone/zodbverify">plone/zodbverify</a> which can be used to check ZODB before the Python 2 -&gt; 3 migration</li>
</ul>
</li>
<li>Jeremy<ul>
<li>worked on porting recipe.testrunner to Python 3 and had some <em>fun</em> with doctests</li>
</ul>
</li>
<li>Nilo<ul>
<li>worked on an issue for RestrictedPython</li>
<li>is about fixing a regression in ZCatalog, where sorting does no longer work</li>
</ul>
</li>
<li>Jens Hinghaus<ul>
<li>worked on <a href="https://github.com/zopefoundation/tempstorage/pull/11">tempstorage</a></li>
<li>found and filed a bug in ZMI when using search</li>
</ul>
</li>
<li>Michael<ul>
<li>is about preparing the roadmap for the final release of Zope 4 (yee-haw)</li>
<li>made a ton of releases for packages from the Zope universe</li>
<li>spread rumors that the release date of <strong>Zope 5</strong> won't be in the very far future</li>
</ul>
</li>
<li>Jürgen (me)<ul>
<li>found <a href="https://github.com/zopefoundation/Products.ZCatalog/pull/73#issuecomment-490485033">Dieter's comment</a> about why so many Travis builds break with Python 3.8; =&gt; clear cache and restart build, did this for lots of broken builds</li>
<li>revised the subsection about "Exceptions" of the <strong>Zope developer's guide</strong> and found and filed a <a href="https://github.com/zopefoundation/zExceptions/issues/8">bug</a> in zExceptions; also experienced some strange behaviour with custom exceptions which inherit from <strong>BaseException</strong> (don't do this at home) with waitress</li>
</ul>
</li>
</ul>
<p>Also, Jens Vagelpohl and Dieter Maurer contributed a lot by adding valuable insights to some complicated discussions, reviewed a lot of pull requests... Jens also added documentation about how to setup daemoize Zope 4 on a systemd powered Linux box and fixed on old bug with <a href="https://github.com/zopefoundation/Zope/pull/599">importing ZEXP files</a>.</p>
<h2>Some more positive news...</h2>
<p>Matthew Wilkes announced some <a href="https://community.plone.org/t/zope-contributor-agreement-process/8495">updates</a> on the upcoming merger of the Zope into the Plone foundation, and thus the improvements on the onboarding for new developers concerning the committer agreement.</p>
<h2>other than that...</h2>
<p>We have plenty of fun here. The venue ( <a href="https://twitter.com/koffij_halle">https://twitter.com/koffij_halle</a> ) is great - the food is excellent! Basti, the new cook, really rocks the kitchen!</p>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/face-to-face-with-earl-zope/">Face to face with &#34;Earl Zope&#34; and his henchmen</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2019-05-03
  </p>
  <blockquote><p><strong><em>NOTE:</em></strong>  This blog post is <strong>WORK IN PROGRESS</strong> and will be updated regularly. Though, this post is first and foremost written for myself, please do not hesitate to drop me a line at juergen dot gmach at googlemail com or directly contribute to this article via <a href="https://github.com/jugmac00/jugmac00.github.io.source">GitHub.com</a>.</p>
</blockquote>
<p>This blog post tries to ease beginning and keeping up with development of the open source web application server <a href="https://zope.readthedocs.io/en/latest/">Zope</a> and its universe.</p>
<h2>what makes it hard to start contributing to Zope</h2>
<ul>
<li><strong>Zope</strong> is a very mature product, as it was launched already back in <a href="https://en.wikipedia.org/wiki/Zope">1999</a></li>
<li><strong>Zope</strong> underwent some major architectural changes (keyword <a href="http://muthukadan.net/docs/zca.html#introduction">ZCA</a>)</li>
<li><strong>Zope</strong> itself is relatively complex</li>
<li>there is also a complex ecosystem around it<ul>
<li><a href="http://www.buildout.org/en/latest/">Buildout</a></li>
<li><a href="https://travis-ci.org/">TravisCI</a></li>
<li><a href="https://github.com/zopefoundation">GitHub.com</a></li>
<li><a href="https://tox.readthedocs.io/en/latest/">tox</a> / <a href="https://opensource.com/article/19/5/python-tox">quick introduction</a></li>
<li><a href="https://zopetestrunner.readthedocs.io/en/latest/">zope.testrunner</a></li>
<li><a href="https://readthedocs.org/">Read the Docs</a></li>
<li>...</li>
</ul>
</li>
<li>documentation is partially out of date (but there is an effort to fix this)</li>
<li>there are many developers which contribute for years, or even more than a decade, not many new developers</li>
<li>there are many <strong>unwritten</strong> rules</li>
</ul>
<h2>prerequisites</h2>
<p><strong>Zope</strong> and probably the most of its related packages are licensed under the <a href="https://directory.fsf.org/wiki/License:ZPL-2.1">ZPL</a>. In order to contribute to the project, you need to sign a <a href="http://docs.zope.org/developer/becoming-a-committer.html">contributor's agreement</a>. If you do not get a reply to your application in a reasonable amount of time, please resend your email.</p>
<h2>development process</h2>
<p>Once your application has been accepted, which is a mere formality, you may to start contributing.</p>
<h3>where to find the source code</h3>
<p>Zope and all its related packages, which reside under the umbrella of the Zope Foundation, are hosted at <a href="https://github.com/zopefoundation">GitHub</a>.</p>
<p>For instance, the repository for Zope is located at <a href="https://github.com/zopefoundation/Zope">https://github.com/zopefoundation/Zope</a></p>
<blockquote><p><strong><em>NOTE:</em></strong>  There are plans to merge the Zope Foundation into the <a href="https://plone.org/foundation">Plone Foundation</a> - current status is unknown.</p>
</blockquote>
<h3>flow</h3>
<p>Though not 100% consistent, usually you cannot and you should not directly work on the master branch.</p>
<p>The recommended way is to clone the repository and work on a new branch.</p>
<p>Once finished, push your branch to the repository and create a pull request. Both your branch and the pull request will get automatically tested by TravisCI (see below).</p>
<p>Most repositories need both green tests and a successful review before a pull request gets merged.</p>
<p>Usually you will merge the branch yourself - in order to show off that you have signed the contributor agreement.</p>
<p>After the pull request had been merged, please delete your branch.</p>
<blockquote><p><strong><em>NOTE:</em></strong> If you want to implement very small changes - e.g. fixing typos - you can directly edit the file in your browser by clicking the pencil icon when viewing the file on GitHub.com.</p>
</blockquote>
<h3>tests</h3>
<p>It is highly recommended that all code changes, bug fixes and new features should be tested by automatic tests.</p>
<p>Unlike most other Python projects, <strong>Zope/universe</strong> does not make use of pytest - which can be both quite surprising and a bit of a hurdle.</p>
<p><strong>Zope/universe</strong> makes heavily use of <a href="https://pypi.org/project/zope.testrunner/">zope.testrunner</a>.</p>
<h3>supported python versions</h3>
<p>Currently, Python 2.7, 3.5, 3.6, 3.7 and 3.8 (dev) are supported for most of the <strong>Zope 4/universe</strong> packages. This reflects the officially supported Python versions.</p>
<p>Some packages also support <a href="https://pypy.org/">PyPy</a>.</p>
<p>Afaik, there are plans to drop support for Python 2.7 with Zope 5.</p>
<p>When adding support for a new Python version, or dropping support for an old one, you have to update several files:</p>
<ul>
<li>.travis.yml</li>
<li>tox.ini</li>
<li>setup.py</li>
<li>CHANGES.rst</li>
</ul>
<h3>continuous integration - mostly via travisci</h3>
<p>Whenever you push to a branch or make a pull request, <a href="https://travis-ci.org">TravisCI</a> automatically pulls your changes and runs the project's test suite.</p>
<p>This is configured via a <strong>.travis.yml</strong> file at root level of the repository.</p>
<blockquote><p><strong><em>NOTE:</em></strong>  For packages, which should be supported on the Windows plattform, <a href="https://www.appveyor.com/">AppVeyor</a> gets used.</p>
</blockquote>
<h3>travisci configuration</h3>
<p>The configuration for TravisCI changes on quite a regular basis. There are OS upgrades, new and deprecated Python versions, syntax changes and also new and deprecated features for Travis itself.</p>
<p>Depending on how the tests are run, whether there are checks for styles or coverage, the <strong>.travis.yml</strong> can be quite different for different packages.</p>
<p>You can have a look at the recently updated configuration for <a href="https://github.com/zopefoundation/zExceptions/blob/master/.travis.yml">zExceptions</a> as a good example with up-to-date best practices.</p>
<h3>deprecated travisci configuration</h3>
<p>If you happen to see a <strong>sudo: false/true</strong> option in a <strong>.travis.yml</strong> file, you can safely remove it (cf. <a href="https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration">https://blog.travis-ci.com/2018-11-19-required-linux-infrastructure-migration</a>).</p>
<h3>travisci trouble shooting</h3>
<ul>
<li>flaky tests - sometimes tests fail for <strong>no reason</strong> - you can try to dig deeper or just re-run the build by clicking the "rebuild" button on the TravisCI website.</li>
<li>bad cache =&gt; clear cache - rarely this is necessary; a re-run should do the job most of the time - please find more information at the <a href="https://docs.travis-ci.com/user/caching/#clearing-caches">TravisCI documentation site</a>.</li>
<li><strong>ImportError: libpython3.8m.so.1.0</strong>: cannot open shared object file: No such file or directory" =&gt; clear cache in TravisCI and restart build 1)</li>
</ul>
<p>1) Information by Dieter Maurer:</p>
<blockquote><p>The Python 3.8 problem was (likely) discussed in the Python mailing list today: the newest Python version has changed <strong>sys.implementation.cache_tag</strong> which prevents Python from finding shared objects installed for earlier versions. "pip" on the other hand seems not to take thin into account and thinks that the older version is still usable. Clearing the cache should fix the problem.</p>
</blockquote>
<h2>updates</h2>
<p><strong>2019.05.03</strong></p>
<ul>
<li>update <strong>what makes it hard to start contributing to Zope</strong>; also add links</li>
</ul>
<p><strong>2019.05.04</strong></p>
<ul>
<li>add section about support Python versions</li>
</ul>
<p><strong>2019.05.06</strong></p>
<ul>
<li>add link to a very concise tox introduction</li>
</ul>
<p><strong>2019.05.08</strong></p>
<ul>
<li>update TravisCI trouble shooting section</li>
</ul>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/it-is-never-too-late-too-join-the-party/">it&#39;s never too late to join the party!</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2019-05-02
  </p>
  <p>Although I started writing code already at the age of 13 (<strong>Generation C64</strong>), and I am a professional web and backend developer since 2007, I only started contributing to <strong>open source software</strong> quite recently - apart from the occasional bug report.</p>
<h2>what is open source software?</h2>
<p>Quote from <a href="https://en.wikipedia.org/wiki/Open-source_software">Wikipedia</a>:</p>
<blockquote><p>Open-source software (OSS) is a type of computer software in which source code is released under a license in which the copyright holder grants users the rights to study, change, and distribute the software to anyone and for any purpose.</p>
</blockquote>
<h3>interesting tidbit</h3>
<p>The term was coined by Tim O'Reilly, Eric Raymon and Bruce Perens in <strong>1998</strong> - that's just 20 years!</p>
<h2>why care about open source software?</h2>
<p>The company, I currently work for, makes heave use of open source sofware - maybe not right from the beginning, as the company predates the term open source software, but at least from the very start of the <strong>internet-age</strong>.</p>
<h3>utilized open source software (excerpt)</h3>
<ul>
<li>Drupal / WordPress</li>
<li>Roundcube / Dovecot / Postfix</li>
<li>Apache / Nginx</li>
<li>PHP / Python</li>
<li>Linux!</li>
<li>and many more...</li>
</ul>
<h2>why would you not contribute to open source software?</h2>
<ul>
<li>work and family related time constraints</li>
<li>money - at least at work</li>
</ul>
<h2>turning point</h2>
<ul>
<li>among others, I am maintaining a 14 year old custom intranet application built on a Zope 2 / Python 2 stack</li>
<li>Python 2 support ends <a href="https://pythonclock.org/">01. January 2020</a></li>
<li>that means I have to migrate<ul>
<li>application server (Zope 2)</li>
<li>application itself</li>
<li>database (ZODB =&gt; a NoSQL database before the name was coined)</li>
</ul>
</li>
<li>resources - a team of one -&gt; <strong>mission impossible</strong>!</li>
</ul>
<h2>... but ... Zope is open source software!</h2>
<ul>
<li>literally: the source code is <strong>open</strong> - available for everybody to read and modify, so no legal restrictions</li>
<li>but that does not mean there is no business interest/money involved</li>
</ul>
<p>Despite its <del>age</del> maturity <strong>Zope</strong> is still widely used, indirectly by the very popular and rock stable CMS <a href="https://plone.org/">Plone</a>, but also for big custom applications, for instance <strong>union.cms</strong>, which gets used by <a href="https://www.verdi.de/">ver.di</a> and <a href="https://de.wikipedia.org/wiki/Deutscher_Gewerkschaftsbund">DGB</a>.</p>
<p>That means that there is a broad interest of companies and unions alike to keep Zope going.</p>
<p>Focussing on the core competence, it is not always the best idea to employ software engineers yourself - at least not to build on the basis technology.</p>
<p>Luckily, there are quite some consultants out there working with the Zope / Plone universe, e.g. <a href="https://gocept.com/"><strong>gocept gmbh &amp; co. kg</strong></a>, which get hired by companies and the mentioned unions, in order to work on Zope. <strong>gocept</strong> on the other hand also has great interest in <strong>Zope's</strong> future, and therefore also heavily contributes back to the <strong>Zope</strong> universe, both with code contributions, but they also host so called <strong>sprints</strong>.</p>
<p>Sounds like a win win win situation!</p>
<h3>sprint what?</h3>
<p>A sprint is a set period of time during all kind of software developers come together to work on a certain project. In this case, the <a href="https://www.meetup.com/de-DE/Zope-Sprint/">migration of Zope from Python 2.7 to Python 3</a>.</p>
<h3>history of Zope sprints @gocept</h3>
<ul>
<li><strong>May 2019</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/259042717/">Saltlabs sprint - Zope spring cleaning</a> - next week! looking forward to participating a lot!</li>
<li><strong>October 2018</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/252468356/">Saltlabs sprint – Zope and Plone together</a> - 31 participants! both from Zope and Plone community - tons of fun - started revising the Zope Developer book - got a couple of T-Shirts from taking part at <a href="https://hacktoberfest.digitalocean.com/">Hacktoberfest 2018</a></li>
<li><strong>May 2018</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/248187180/">Zope 4 Welcome Sprint</a> - woot, my first sprint! paired a lot with Steffen and Daniel</li>
<li><strong>September 2017</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/240315699/">Zope 4 Phoenix Sprint</a> - my back then colleague took part - hi Gabe!</li>
<li><strong>May 2017</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/237672812/">Zope 2 Resurrection Sprint</a></li>
<li><strong>May 2016</strong> <a href="https://www.meetup.com/de-DE/Zope-Sprint/events/232466542/">Zope Resurrection Sprint</a></li>
</ul>
<h2>open source is fun and you'll learn a lot!</h2>
<ul>
<li>new tools<ul>
<li>travis</li>
<li>tox</li>
<li>sphinx</li>
<li>...</li>
</ul>
</li>
<li>best practices</li>
<li>different coding style</li>
<li>software architecture</li>
<li>collaboration</li>
<li>better utilization of GitHub and all its features</li>
<li>...</li>
</ul>
<p>... but also historical facts ...
<code>src/ZPublisher/HTTPResponse.py</code></p>
<pre><code># Note that as of May 98, IE4 ignores cookies with
# quoted cookie attr values, so only the value part
# of name=value pairs may be quoted.
</code></pre>
<h2>one last thing</h2>
<p>Contributing to open source software should not exclusively be at the expense of your free time!</p>
<p>Ask your boss - today! Eventually, you'll be surprised - so was I.</p>
<h2>notes</h2>
<p>I presented this topic as a lightning talk at <a href="https://www.meetup.com/de-DE/Mobile-Stammtisch-GDG-Regensburg/events/257156080/">Mobile Stammtisch/GDG Regensburg</a> on 20. December 2018.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/ignore-requests-for-apple-touch-icons/">ignore requests for apple touch icons</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2018-07-28
  </p>
  <h2>the problem</h2>
<p>My applications error log is polluted with tracebacks of <em>notFoundErrors</em> from Apple browsers requesting <em>apple-touch-icon.png</em>s.</p>
<p>For those, who do not know... Touch icons are to Apple's mobile devices what <a href="https://en.wikipedia.org/wiki/Favicon">favicons</a> are to (desktop) web browsers.</p>
<p>According to <a href="https://www.computerhope.com/jargon/a/appletou.htm">ComputerHope</a>:</p>
<blockquote><p>When someone bookmarks your web page or adds your web page to their home screen, this icon is used.</p>
</blockquote>
<p>So, when you run a public website, no question, you want to put <em>some effort</em> into making some great icons, so your website looks great on your users' home screen and bookmark section.</p>
<p>And by <em>some effort</em> I mean quite some. I was not able to quickly find out how many icons one has to create currently - for all different screens sizes and resolutions.</p>
<p>If you have to take care of touch icons, try Apple's <a href="https://developer.apple.com/library/archive/documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html">Configuring Web Applications</a> as a starting point.</p>
<h2>initial situation</h2>
<p>I do not run a public website, but an internal application with a two digit user number.</p>
<p>When one of my colleagues accesses the application with an Apple device, and does "things", nginx, configured as reverse proxy, passes the request for the touch icon to the application server, and it makes boom!</p>
<p>Well, the home screen will be full - at some time, but I guess quite some bookmarks are made, and thus my application's error log gets spammed with messages I do not care about - at least for the moment, but of course, I do not want to see them.</p>
<h2>technical solution &gt;&gt; design solution</h2>
<p>The easiest way to get rid of those messages, is NOT to create estimated <strong>18</strong> (update: <strong>40</strong>) differently named and sized touch icons, but not to pass those requests to the application server.</p>
<p>nginx makes this easy, as all I needed to add to the configuration was:</p>
<pre><code>location ~ /apple-touch-icon(|-\d+x\d+)(|-precomposed).png {
    return 404;
    log_not_found off;
}
</code></pre>
<p>where...</p>
<ul>
<li>the <em>location</em> directvie configures what should happen, depending on the request <a href="https://en.wikipedia.org/wiki/Uniform_Resource_Identifier">URI</a></li>
<li><p><em>~</em> means regex is following</p>
</li>
<li><p><em>apple-touch-icon(|-\d+x\d+)(|-precomposed).png</em> should match any and more of the following:</p>
</li>
</ul>
<pre><code>apple-touch-icon.png
apple-touch-icon-precomposed.png
apple-touch-icon-74x74.png
apple-touch-icon-180x180.png
</code></pre>
<ul>
<li><em>return 404</em> sends "page not found" to the user</li>
<li><em>log_not_found off</em> makes nginx to not log this "error"</li>
</ul>
<p>Fair enough?</p>
<h2>bonus</h2>
<p>Want to be prepared for the glorious time when you introduce touch icons?</p>
<p>Dig into nginx' <a href="http://nginx.org/en/docs/http/ngx_http_core_module.html#try_files">try_files directive</a> , so nginx looks for a file and delivers it, and if it's not there, you can return a 404 (and not pass the request to your application server).</p>
<p>Following (untested) configuration snippet should do the trick:</p>
<pre><code>location ~ /apple-touch-icon(|-\d+x\d+)(|-precomposed).png {
    try_files $uri =404;
}
</code></pre>
<h2>further resources</h2>
<ul>
<li><a href="https://www.digitalocean.com/community/tutorials/understanding-nginx-server-and-location-block-selection-algorithms">Configuring nginx @Digital Ocean</a></li>
<li><a href="https://realfavicongenerator.net/faq#.W1rgidIzZaQ">FAQ @Favicon Generator. For real.</a></li>
</ul>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/sudo-dnf-install-beautiful-problems/">sudo dnf install beautiful-problems</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2018-07-04
  </p>
  <p>There is something I immediately disliked when using Fedora the first time - the Bash prompt.</p>
<p>For many years I've been using a fixed prompt at work for all my machines, a beauty in green and yellow...</p>
<p>And when I first started Bash after installing Fedora on my home laptop, I encountered this grey monotony...</p>
<pre><code>[jugmac00@localhost ~]$
</code></pre>
<p>I did not try to recreate the prompt I have at work, but I wanted to try something new - and <em>oh my zsh</em>, ah, <em>oh my god</em>,  <strong>zsh</strong> did not come to my mind - yuck!</p>
<h2>the good (looking prompt and statusline)</h2>
<p>Instead, while googling for resources about Fedora, I stumbled upon <a href="https://fedoramagazine.org/add-power-terminal-powerline/">Add power to your terminal with powerline</a> published on <a href="https://fedoramagazine.org/">https://fedoramagazine.org/</a>.</p>
<p>From <strong>Powerline's</strong> <a href="https://github.com/powerline/powerline">GitHub page</a>:</p>
<blockquote><p>Powerline is a statusline plugin for vim, and provides statuslines and prompts for several other applications, including zsh, bash, fish, tmux, IPython, Awesome, i3 and Qtile.</p>
</blockquote>
<p>The article is written very well, and easy to follow. A few minutes later, installing a few packages here, adding some lines to <em>.bashrc</em> and <em>.vim.rc</em> there, both <strong>Bash</strong> and <strong>Vim</strong> looked great!</p>
<h3>bash</h3>
<p><img src="../blog/sudo-dnf-install-beautiful-problems/powerline-bash.png" alt="Alt-Text"></p>
<h3>vim</h3>
<p><img src="../blog/sudo-dnf-install-beautiful-problems/powerline-vim.png" alt="Alt-Text"></p>
<h2>the bad (experience)</h2>
<p>The wow-effect lasted only a couple of minutes, until I tried to work on a Python project.</p>
<p>When you work on a Python project, it's an hell of an idea to use <strong>virtualenv</strong> instead of installing dependencies system wide.</p>
<p>From <strong>virtualenv's</strong> <a href="https://virtualenv.pypa.io/en/stable/">documentation page</a>:</p>
<blockquote><p>virtualenv is a tool to create isolated Python environments.</p>
</blockquote>
<p>So in order to not mess up with Python based Linux applications - such as <strong>Powerline</strong> - I activated the virtualenv for my project, started <strong>Vim</strong>... and it made booooom!</p>
<pre><code>Error detected while processing /home/jugmac00/.vimrc:
line   36:
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
ModuleNotFoundError: No module named 'powerline'
line   37:
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
NameError: name 'powerline_setup' is not defined
line   38:
Traceback (most recent call last):
  File "&lt;string&gt;", line 1, in &lt;module&gt;
NameError: name 'powerline_setup' is not defined
Traceback (most recent call last):
  File "&lt;string&gt;", line 4, in &lt;module&gt;
ModuleNotFoundError: No module named 'powerline'
During handling of the above exception, another exception occurred:
Traceback (most recent call last):
  File "&lt;string&gt;", line 9, in &lt;module&gt;
ModuleNotFoundError: No module named 'powerline'
An error occurred while importing powerline module.
This could be caused by invalid sys.path setting,
or by an incompatible Python version (powerline requires
Python 2.6, 2.7 or 3.2 and later to work). Please consult
the troubleshooting section in the documentation for
possible solutions.
Unable to import powerline, is it installed?
Press ENTER or type command to continue
</code></pre>
<p>As a Python developer I am used to see tracebacks, so I was not scared away immediately, and this traceback was even a very informative one:</p>
<pre><code>ModuleNotFoundError: No module named 'powerline'
</code></pre>
<p>In order to verify the <em>missing</em> package, I left <strong>Vim</strong> and started a Python interpreter and tried to import the <strong>Powerline</strong> package manually...</p>
<ul>
<li>one time without activated <strong>virtualenv</strong><pre><code>jugmac00 ~&gt; python3.6
Python 3.6.5 (default, Mar 29 2018, 18:20:46) 
[GCC 8.0.1 20180317 (Red Hat 8.0.1-0.19)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import powerline
&gt;&gt;&gt;
</code></pre>
</li>
<li>the other with activated <strong>virtualenv</strong><pre><code>jugmac00 ~&gt; python3.6
Python 3.6.5 (default, Mar 29 2018, 18:20:46) 
[GCC 8.0.1 20180317 (Red Hat 8.0.1-0.19)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import powerline
Traceback (most recent call last):
File "&lt;stdin&gt;", line 1, in &lt;module&gt;
ModuleNotFoundError: No module named 'powerline'
&gt;&gt;&gt;
</code></pre>
</li>
</ul>
<p>Here we go! Having a look at the longish traceback from above again, I also spotted the exact location of the problem, the import statement in <em>.vimrc</em>.</p>
<pre><code>python3 from powerline.vim import setup as powerline_setup
python3 powerline_setup()
python3 del powerline_setup
</code></pre>
<p>There are <em>only</em> two Python 3 interpreters on my system (that I know of)</p>
<ul>
<li>the standard one</li>
<li>the one in my project's virtualenv</li>
</ul>
<p>So obviously, <strong>Vim</strong> is using my project's environment - instead of the system one!</p>
<h2>the ugly (hack)</h2>
<p>Two possible solutions came to my mind:</p>
<ul>
<li>installing powerline into my virtualenv (<em>oh my zsh</em>, ah, <em>oh my god</em> - how could I even think of it? :-))</li>
<li>manipulating the Python path</li>
</ul>
<p>As the few lines of code from above suggest, it seems to be possible to write ordinary Python code within <em>.vimrc</em>.</p>
<p>But where is <strong>Powerline's</strong> Python package?</p>
<p>Say <em>hello</em> to Python's ability for introspection...</p>
<pre><code>jugmac00 ~&gt; python3
Python 3.6.5 (default, Mar 29 2018, 18:20:46) 
[GCC 8.0.1 20180317 (Red Hat 8.0.1-0.19)] on linux
Type "help", "copyright", "credits" or "license" for more information.
&gt;&gt;&gt; import powerline
&gt;&gt;&gt; powerline.__path__
['/usr/lib/python3.6/site-packages/powerline']
</code></pre>
<p>So I just had to add the following line to <em>.vimrc</em>:</p>
<pre><code>python3 import sys;sys.path.append("/usr/lib/python3.6/site-packages/")
</code></pre>
<p>And here we go, <strong>Powerline</strong> and <strong>Vim</strong>, united once again - and this time, even when using an activated <strong>virtualenv</strong>.</p>
<h3>drawback</h3>
<p>Adding system-wide site-packages could have some unforseen side effects, but at least it only effects <strong>Vim</strong>, and not my project. And, well... yolo :-)</p>
<h3>bug report</h3>
<p>Googling for the error message did not reveal much more information about this problem. But at least I found a <a href="https://github.com/powerline/powerline/issues/1908">bug report</a> at <strong>Powerline's</strong> issue tracker - yet without an answer.</p>
<p>Lately, <strong>Powerline's</strong> development seems to be not that active anyway, and to be honest, I am not sure, whether this is a <strong>Powerline</strong> or maybe even a <strong>Vim</strong> bug.</p>

  </div>

  
    
  <div class="blog-post">
  
    <h1><a href="../blog/getting-back-ctrl-over-ctrlaltarrow-keys/">getting back ctrl over ctrl+alt+arrow in gnome</a></h2>
  
  <p class="meta">
    written by
    
      <a href="https://twitter.com/jugmac00">Jürgen Gmach</a>
    
    on 2018-07-01
  </p>
  <h2>the task</h2>
<p>Deactivating Gnome's keyboard shortcuts for ctrl+alt+left / ctrl+alt+right to make those combinations available for another application. In my case I tried to use these shortcuts in Jetbrain's PyCharm for code navigation.</p>
<h2>the obvious (and wrong) way</h2>
<ul>
<li>Go to<ul>
<li><em>Settings</em></li>
<li><em>Devices</em></li>
<li><em>Keyboard</em></li>
<li><em>Keyboard Shortcuts</em></li>
</ul>
</li>
<li>Change or reset the values for the shortcuts</li>
</ul>
<p>Although both shortcuts are obviously blocked by Gnome, they are not listed.</p>
<h2>one way</h2>
<pre><code>$ gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-right []
$ gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-left []
</code></pre>
<h2>another way</h2>
<pre><code>$ sudo dnf install dconf-editor
</code></pre>
<ul>
<li>open dconf-editor</li>
<li>navigate to org / gnome / desktop / wm /keybindings</li>
<li>change the keybindings</li>
</ul>
<h2>the explanation</h2>
<p>I think those missing shortcuts on the settings page is a <a href="https://bugzilla.redhat.com/show_bug.cgi?id=1597280">bug</a> (which I reported), or at very least a usability problem. Speaking of usability problems, on the settings page you can only see one shortcut per action, even when there are defined two or more.</p>
<p>Luckily, as shown above, there are ways to counter those problems.</p>
<p>In order to save preferences both for the system and for applications, Gnome uses a configuration system called <strong>gconf</strong>. I think of it as simple key-value database.</p>
<p>There are several ways to access this database, amongst there are:</p>
<ul>
<li><strong>gsettings</strong></li>
<li><strong>dconf-editor</strong> (needs installation)</li>
</ul>
<h3>gsettings</h3>
<p><strong>gsettings</strong> is a high level command line interface to the above mentioned <strong>dconf</strong> configuration system.</p>
<p>The simplified syntax is:</p>
<pre><code>$ gsettings COMMAND SCHEMA KEY [VALUE]
</code></pre>
<p>Let's have another look at one of the commands from above:</p>
<pre><code>$ gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-right []
</code></pre>
<ul>
<li><strong>set</strong> is the COMMAND; another command would be <strong>get</strong> to retrieve a value</li>
<li><strong>org.gnome.desktop.wm.keybindings</strong> is the SCHEMA, think of a group or a box in order to make it easier to find many key/value pairs</li>
<li><strong>switch-to-workspace-right</strong> is the KEY, in this case the action which follows a specific keystroke</li>
<li><strong>[]</strong> is the value; in this case it is set to an empty value</li>
</ul>
<p>You can explore the many possibilities of <strong>gsettings</strong> by either having a look at the manpage or by entering one of the following - I think - self explaining commands:</p>
<pre><code>$ gsettings list-keys org.gnome.desktop.wm.keybindings
$ gsettings list-schemas
</code></pre>
<h3>dconf-editor</h3>
<p><strong>dconf-editor</strong> is a graphical user interface to the <strong>dconf</strong> database.</p>
<p>It is not installed by default, so in order to use it, you have to type...</p>
<pre><code>$ sudo dnf install dconf-editor
</code></pre>
<p>There is not much to add here - you can set and get all the key/value pairs just as with <strong>gsettings</strong>, but this time there is no command line involved.</p>
<h2>pitfalls</h2>
<p>All settings are saved on a per user basis - so do not use <strong>gsetttings</strong> or <strong>dconf-editor</strong> as root, when you plan to change your user settings.</p>
<h2>used versions</h2>
<pre><code>$ gnome-shell --version
GNOME Shell 3.28.2

$ cat /etc/fedora-release 
Fedora release 28 (Twenty Eight)
</code></pre>
<h2>references</h2>
<ul>
<li><a href="https://wiki.ubuntuusers.de/GNOME_Konfiguration/dconf/">ubuntuusers.de - dconf</a> (German)</li>
<li><a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/desktop_migration_and_administration_guide/user-and-system-settings">chapter 9 of Redhat's Desktop Migration and Administration Guide</a></li>
<li><a href="https://askubuntu.com/questions/22313/what-is-dconf-what-is-its-function-and-how-do-i-use-it">What is dconf, what is its function, and how do I use it?</a>
<a href="https://askubuntu.com/questions/22313/what-is-dconf-what-is-its-function-and-how-do-i-use-it">https://askubuntu.com/questions/22313/what-is-dconf-what-is-its-function-and-how-do-i-use-it</a></li>
</ul>

  </div>

  

  
  <div class="pagination">
    
      <span class="disabled">&laquo; Previous</span>
    
    | 1 |
    
      <span class="disabled">Next &raquo;</span>
    
  </div>


  </div>
  <footer>
    &copy; Copyright 2018 - 2019 by Jürgen Gmach.
  </footer>
</body>
