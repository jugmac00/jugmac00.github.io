<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Blogs | Jürgen Gmach</title><meta name=keywords content><meta name=description content><meta name=author content><link rel=canonical href=https://jugmac00.github.io/blog/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/blog/index.xml><meta property="og:title" content="Blogs"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/blog/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Blogs"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Blogs","item":"https://jugmac00.github.io/blog/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span class=active>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Blogs</h1></header><article class=post-entry><header class=entry-header><h2>Enrich Test Coverage With Contexts</h2></header><section class=entry-content><p>Hold on tight, now I expect a lot of us:
We all
test our code use coverage strive for 100% test coverage So, what’s missing?
I miss some context 100% test coverage is great, but sometimes we need more information.
e.g. which test covers line XXX?
In sufficiently complex code bases, with mixed unit and integration tests, this is no longer easy to find out.
Sure, you can set a breakpoint and run your tests and wait until the breakpoint has been hit....</p></section><footer class=entry-footer><p></p>May 20, 2021</footer><a class=entry-link aria-label="post link to Enrich Test Coverage With Contexts" href=https://jugmac00.github.io/blog/enrich-test-coverage-with-contexts/></a></article><article class=post-entry><header class=entry-header><h2>Hugo and GitHub Pages - Welcome in the Land of Confusion</h2></header><section class=entry-content><p>Yesterday, I migrated my blog to Hugo.
GitHub Pages While the migration was straight forward, I was a bit puzzled with the deployment process to GitHub.
For those who don’t know yet, GitHub enables all users to have an own website, called GitHub Pages, with a URL like https://your-user-name.github.io.
Previously I used Lektor. The source code for my site lived in https://github.com/jugmac00/jugmac00.github.io.source, and was deployed by Lektor to https://github.com/jugmac00/jugmac00.github.io.
Easy enough....</p></section><footer class=entry-footer><p></p>May 12, 2021</footer><a class=entry-link aria-label="post link to Hugo and GitHub Pages - Welcome in the Land of Confusion" href=https://jugmac00.github.io/blog/hugo-and-github-pages-welcome-in-the-land-of-confusion/></a></article><article class=post-entry><header class=entry-header><h2>Bite My Shiny Type Annotated Library</h2></header><section class=entry-content><p>How do you make type annotations available to the users of your library?
Well, you just type annotate your library, right?
No!
But let’s step back for a moment.
Flask 2.0 goes full type annotations This morning I read David Lord’s announcement that Flask, Jinja, Click, Werkzeug, MarkupSafe, and ItsDangerous are now fully type annotated, and new releases will be available next week.
Ok, as I typed Flask-Reuploaded almost a year ago, I certainly noticed that Flask was not typed back then, but external type information was provided via typeshed, which I remember lively, as I had to add a missing type annotation for Werkzeug....</p></section><footer class=entry-footer><p></p>May 9, 2021</footer><a class=entry-link aria-label="post link to Bite My Shiny Type Annotated Library" href=https://jugmac00.github.io/blog/bite-my-shiny-type-annotated-library/></a></article><article class=post-entry><header class=entry-header><h2>Testing the tox 4 Pre-Release at Scale</h2></header><section class=entry-content><p>Every once in a while, you may read that one of your favorite used packages announces a new version.
Sometimes even a so-called alpha version is announced.
The maintainers then politely ask you, the user, to test the package, and give feedback if anything is broken.
When the upcoming pytest version 6 had been announced, I wrote a short instruction on how to install pre-releases.
This time, tox, the virtualenv management and test tool, announced a new version 4, but it is not just a new version, it is a complete rewrite by Bernát Gábor!...</p></section><footer class=entry-footer><p></p>March 1, 2021</footer><a class=entry-link aria-label="post link to Testing the tox 4 Pre-Release at Scale" href=https://jugmac00.github.io/blog/testing-the-tox-4-pre-release-at-scale/></a></article><article class=post-entry><header class=entry-header><h2>Convincing an Enterprisy App to Work Behind nginx as Reverse Proxy</h2></header><section class=entry-content><p>For simplicity, let’s the call the app Dated HR, a tool to “Simplify your HR work”, which offers support for time tracking, holiday, payroll…
So far so good, and even better, as it is an enterprisy Windows software, which needs to be configured with IIS and a MSSQL database, a colleague of mine installed it on an internal Windows server.
The app makes a web GUI available under http://nemesis.company.local, which would work like a charm - for our colleagues at site, but not for the colleagues from the other sites....</p></section><footer class=entry-footer><p></p>October 30, 2020</footer><a class=entry-link aria-label="post link to Convincing an Enterprisy App to Work Behind nginx as Reverse Proxy" href=https://jugmac00.github.io/blog/convincing-an-enterprisy-app-to-work-behind-nginx-as-reverse-proxy/></a></article><article class=post-entry><header class=entry-header><h2>How to Run a Dockerized Service via systemd</h2></header><section class=entry-content><p>Until recently, I saw no good reason to use Docker, as my deployment tool of choice produces approximately identical builds, locally on my Ubuntu laptop, on staging and on production.
But time does not stand still and especially as I have to deploy a Java application, it was time to rethink my strategy, as I do not want to play the which Java runtime environment plays nicely together with which app version game....</p></section><footer class=entry-footer><p></p>October 29, 2020</footer><a class=entry-link aria-label="post link to How to Run a Dockerized Service via systemd" href=https://jugmac00.github.io/blog/how-to-run-a-dockerized-service-via-systemd/></a></article><article class=post-entry><header class=entry-header><h2>How to Create Hundreds of Pull Requests With a Single Command</h2></header><section class=entry-content><p>.. or “How to win #hacktoberfest”?
Seriously…
#hacktoberfest is no longer cool ( Hacktoberfest is Hurting Open Source ) you cannot win it anyway the mass pull requests I created (see below) went all to repositories, which do not take part at #hacktoberfest note If you are not interested in the story behind, I also created a concise “today-I-learned” post.
prologue The company I work for has been using Zope, the grand-daddy of Python web application servers, for more than 15 years....</p></section><footer class=entry-footer><p></p>October 28, 2020</footer><a class=entry-link aria-label="post link to How to Create Hundreds of Pull Requests With a Single Command" href=https://jugmac00.github.io/blog/how-to-create-hundreds-of-pull-requests-with-a-single-command/></a></article><article class=post-entry><header class=entry-header><h2>Flask Reuploaded</h2></header><section class=entry-content><p>It all started with this error message:
File "/Projects/xxx/venv/lib/python3.7/site-packages/flask_uploads.py", line 26, in &lt;module> from werkzeug import secure_filename, FileStorage ImportError: cannot import name 'secure_filename' from 'werkzeug'' Trying to build my Flask application, the above error message was generated, as Werkzeug, a very important library in the Flask ecosystem, changed its API in version 1.0, back in February 2020.
This broke a lot of plugins.
Twitter thread
As my app relies on Flask-Uploads, I had a look at the problem and finally provided a pull request to the Flask-Uploads repository on GitHub....</p></section><footer class=entry-footer><p></p>June 28, 2020</footer><a class=entry-link aria-label="post link to Flask Reuploaded" href=https://jugmac00.github.io/blog/flask-reuploaded/></a></article><article class=post-entry><header class=entry-header><h2>Log Rotation for Python Applications - Without killing them softly</h2></header><section class=entry-content><p>A couple of days after a successful deployment of my Zope 4 application, I noticed something worrisome.
Zope gets killed every night, shortly after midnight.
I use Supervisor, which monitors the process and restarts it, so that’s not the problem.
But there are two problems:
I did not trigger this on purpose. The cache of my app is cold, that means that my colleagues get slow response times for the first queries in the morning....</p></section><footer class=entry-footer><p></p>April 8, 2020</footer><a class=entry-link aria-label="post link to Log Rotation for Python Applications - Without killing them softly" href=https://jugmac00.github.io/blog/log-rotation-for-python-applications/></a></article><article class=post-entry><header class=entry-header><h2>isort and pre-commit - a friendship with obstacles</h2></header><section class=entry-content><p>Note This post is not intended to be an exhaustive introduction to pre-commit and its hooks. Please visit pre-commit.com for a complete documentation.
In a nutshell…
pre-commit From its website:
A framework for managing and maintaining multi-language pre-commit hooks.
Very simplified this means, whenever you try to commit changes in your project (e.g. entering git commit), pre-commit runs all configured tools (e.g. linter, formatter, …), and only if they run successfully, your commit will be executed - otherwise your commit will fail....</p></section><footer class=entry-footer><p></p>February 23, 2020</footer><a class=entry-link aria-label="post link to isort and pre-commit - a friendship with obstacles" href=https://jugmac00.github.io/blog/isort-and-pre-commit-a-friendship-with-obstacles/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://jugmac00.github.io/blog/page/2/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>