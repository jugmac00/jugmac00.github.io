<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Detach Sessions From a Terminal | Jürgen Gmach</title>
<meta name=keywords content="linux,terminal,multiplexer,tmux,screen,byobu"><meta name=description content="When we do production deployments at my team at Canonical, we log into a bastion server and execute a long running command from there.
Long running as of 30 minutes. The script goes through all our servers and deploys the latest changes.
Needless to say that it would not be optimal when e.g. the connection dies during the deployment, as this would stop the deployment right in the middle.
Hello terminal multiplexer Most engineers probably heard of tmux and screen before."><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/how-to-detach-sessions-from-a-terminal/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://jugmac00.github.io/til/how-to-detach-sessions-from-a-terminal/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to Detach Sessions From a Terminal"><meta property="og:description" content="When we do production deployments at my team at Canonical, we log into a bastion server and execute a long running command from there.
Long running as of 30 minutes. The script goes through all our servers and deploys the latest changes.
Needless to say that it would not be optimal when e.g. the connection dies during the deployment, as this would stop the deployment right in the middle.
Hello terminal multiplexer Most engineers probably heard of tmux and screen before."><meta property="og:type" content="article"><meta property="og:url" content="https://jugmac00.github.io/til/how-to-detach-sessions-from-a-terminal/"><meta property="article:section" content="til"><meta property="article:published_time" content="2024-06-13T20:21:24+02:00"><meta property="article:modified_time" content="2024-06-13T20:21:24+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Detach Sessions From a Terminal"><meta name=twitter:description content="When we do production deployments at my team at Canonical, we log into a bastion server and execute a long running command from there.
Long running as of 30 minutes. The script goes through all our servers and deploys the latest changes.
Needless to say that it would not be optimal when e.g. the connection dies during the deployment, as this would stop the deployment right in the middle.
Hello terminal multiplexer Most engineers probably heard of tmux and screen before."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"},{"@type":"ListItem","position":2,"name":"How to Detach Sessions From a Terminal","item":"https://jugmac00.github.io/til/how-to-detach-sessions-from-a-terminal/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Detach Sessions From a Terminal","name":"How to Detach Sessions From a Terminal","description":"When we do production deployments at my team at Canonical, we log into a bastion server and execute a long running command from there.\nLong running as of 30 minutes. The script goes through all our servers and deploys the latest changes.\nNeedless to say that it would not be optimal when e.g. the connection dies during the deployment, as this would stop the deployment right in the middle.\nHello terminal multiplexer Most engineers probably heard of tmux and screen before.","keywords":["linux","terminal","multiplexer","tmux","screen","byobu"],"articleBody":"When we do production deployments at my team at Canonical, we log into a bastion server and execute a long running command from there.\nLong running as of 30 minutes. The script goes through all our servers and deploys the latest changes.\nNeedless to say that it would not be optimal when e.g. the connection dies during the deployment, as this would stop the deployment right in the middle.\nHello terminal multiplexer Most engineers probably heard of tmux and screen before. These tools allow detaching sessions from the terminal, so even when your connection dies, the session continues to run in the background. Sounds great, right?\nI think I used these before on some rare occasions, but certainly not enough to feel comfortable using them.\nMy colleague Guruprasad pointed me to another tool - Byobu - which seemed to be another terminal multiplexer, but actually it is just a wrapper script, and uses tmux or screen in the background. The difference? Byobu is super easy to get started with.\nByobu in five easy steps start a session byobu leave a session press F6\nactivate scrolling mode press F7\nscroll use arrow keys or PageUp and PageDown\nend a session exit That’s all!\nFurther information Official website: https://www.byobu.org/ Open builtin help: Shift + F1 Learn Byobu while listening to Mozart ","wordCount":"219","inLanguage":"en","datePublished":"2024-06-13T20:21:24+02:00","dateModified":"2024-06-13T20:21:24+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jugmac00.github.io/til/how-to-detach-sessions-from-a-terminal/"},"publisher":{"@type":"Organization","name":"Jürgen Gmach","logo":{"@type":"ImageObject","url":"https://jugmac00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io/ accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://jugmac00.github.io/hiring/ title=hiring><span>hiring</span></a></li><li><a href=https://jugmac00.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">How to Detach Sessions From a Terminal</h1><div class=post-meta><span title='2024-06-13 20:21:24 +0200 +0200'>June 13, 2024</span></div></header><div class=post-content><p>When we do production deployments at my team at Canonical, we log into a
bastion server and execute a long running command from there.</p><p>Long running as of 30 minutes. The script goes through all our servers and
deploys the latest changes.</p><p>Needless to say that it would not be optimal when e.g. the connection dies
during the deployment, as this would stop the deployment right in the middle.</p><h2 id=hello-terminal-multiplexer>Hello terminal multiplexer<a hidden class=anchor aria-hidden=true href=#hello-terminal-multiplexer>#</a></h2><p>Most engineers probably heard of tmux and screen before. These tools allow
detaching sessions from the terminal, so even when your connection dies,
the session continues to run in the background. Sounds great, right?</p><p>I think I used these before on some rare occasions, but certainly not enough to
feel comfortable using them.</p><p>My colleague <a href=https://www.lguruprasad.in/>Guruprasad</a> pointed me to another
tool - <a href=https://www.byobu.org/>Byobu</a> - which seemed to be another terminal
multiplexer, but actually it is just a wrapper script, and uses tmux or screen
in the background. The difference? Byobu is super easy to get started with.</p><h2 id=byobu-in-five-easy-steps>Byobu in five easy steps<a hidden class=anchor aria-hidden=true href=#byobu-in-five-easy-steps>#</a></h2><ul><li>start a session</li></ul><pre tabindex=0><code>byobu
</code></pre><ul><li>leave a session</li></ul><p>press <code>F6</code></p><ul><li>activate scrolling mode</li></ul><p>press <code>F7</code></p><ul><li>scroll</li></ul><p>use arrow keys or <code>PageUp</code> and <code>PageDown</code></p><ul><li>end a session</li></ul><pre tabindex=0><code>exit
</code></pre><p>That&rsquo;s all!</p><h2 id=further-information>Further information<a hidden class=anchor aria-hidden=true href=#further-information>#</a></h2><ul><li>Official website: <a href=https://www.byobu.org/>https://www.byobu.org/</a></li><li>Open builtin help: <code>Shift + F1</code></li><li><a href="https://www.youtube.com/watch?v=NawuGmcvKus">Learn Byobu while listening to Mozart</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/linux/>Linux</a></li><li><a href=https://jugmac00.github.io/tags/terminal/>Terminal</a></li><li><a href=https://jugmac00.github.io/tags/multiplexer/>Multiplexer</a></li><li><a href=https://jugmac00.github.io/tags/tmux/>Tmux</a></li><li><a href=https://jugmac00.github.io/tags/screen/>Screen</a></li><li><a href=https://jugmac00.github.io/tags/byobu/>Byobu</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://jugmac00.github.io/>Jürgen Gmach</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>