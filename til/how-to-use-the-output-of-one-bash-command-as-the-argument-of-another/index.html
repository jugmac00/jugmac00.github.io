<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Use the Output of One Bash Command as the Argument of Another | Jürgen Gmach</title><meta name=keywords content="bash"><meta name=description content="TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.
see here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997
Thanks to Anthony Sottile for reporting!
Please see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.
How do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file."><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><meta property="og:title" content="How to Use the Output of One Bash Command as the Argument of Another"><meta property="og:description" content="TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.
see here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997
Thanks to Anthony Sottile for reporting!
Please see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.
How do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file."><meta property="og:type" content="article"><meta property="og:url" content="https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/"><meta property="article:section" content="til"><meta property="article:published_time" content="2020-09-07T18:52:25+02:00"><meta property="article:modified_time" content="2020-09-07T18:52:25+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Use the Output of One Bash Command as the Argument of Another"><meta name=twitter:description content="TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.
see here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997
Thanks to Anthony Sottile for reporting!
Please see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.
How do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"},{"@type":"ListItem","position":3,"name":"How to Use the Output of One Bash Command as the Argument of Another","item":"https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Use the Output of One Bash Command as the Argument of Another","name":"How to Use the Output of One Bash Command as the Argument of Another","description":"TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.\nsee here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997\nThanks to Anthony Sottile for reporting!\nPlease see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.\nHow do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file.","keywords":["bash"],"articleBody":"TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.\nsee here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997\nThanks to Anthony Sottile for reporting!\nPlease see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.\nHow do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file.\nWhenever I need to login as root, I do the following steps:\ncat /etc/local/mysql/mysql.passwd # copy the output mysql -u root - p # hit enter # paste the output I do not paste the password directly after the -p so it does not get stored in the bash history.\nAll in all, pretty inconvenient.\nThere must be a better way We all know pipes ( ls | grep search_term ), but here we need the output as an argument.\nWhile we could assign the output to a variable, there is an easier way.\nmysql -u root -p\"$(cat /etc/local/mysql/mysql.passwd)\" The above command reads the password from the configuration file, and directly uses it as input for the mysql command.\nThe correct term for this is command substitution.\nFurther information https://tldp.org/LDP/abs/html/commandsub.html\n","wordCount":"209","inLanguage":"en","datePublished":"2020-09-07T18:52:25+02:00","dateModified":"2020-09-07T18:52:25+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/"},"publisher":{"@type":"Organization","name":"Jürgen Gmach","logo":{"@type":"ImageObject","url":"https://jugmac00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to Use the Output of One Bash Command as the Argument of Another</h1><div class=post-meta><p>bash</p>September 7, 2020</div></header><div class=post-content><h2 id=til-my-til-is-not-secure>TIL my TIL is not secure<a hidden class=anchor aria-hidden=true href=#til-my-til-is-not-secure>#</a></h2><p>There is a security issue with the following description - at least when you handle sensitive data.</p><p>see here
<a href=https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997>https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997</a></p><p>Thanks to <a href=https://twitter.com/codewithanthony>Anthony Sottile</a> for reporting!</p><p>Please see <a href=https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line>https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line</a> for a better way to create a login one-liner.</p><h2 id=how-do-you-use-the-output-of-one-bash-command-as-an-argument-of-another-command>How do you use the output of one bash command as an argument of another command?<a hidden class=anchor aria-hidden=true href=#how-do-you-use-the-output-of-one-bash-command-as-an-argument-of-another-command>#</a></h2><p>For the virtual machines at my <a href=https://flyingcircus.io/>web hosting company</a>,
the <code>mysql</code> root password is stored in a config file.</p><p>Whenever I need to login as root, I do the following steps:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat /etc/local/mysql/mysql.passwd
<span style=color:#75715e># copy the output</span>
mysql -u root - p  <span style=color:#75715e># hit enter</span>
<span style=color:#75715e># paste the output</span>
</code></pre></div><p>I do not paste the password directly after the <code>-p</code> so it does not get stored in the bash history.</p><p>All in all, pretty inconvenient.</p><h3 id=there-must-be-a-better-way>There must be a better way<a hidden class=anchor aria-hidden=true href=#there-must-be-a-better-way>#</a></h3><p>We all know pipes ( <code>ls | grep search_term</code> ), but here we need the output as an argument.</p><p>While we could assign the output to a variable, there is an easier way.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>mysql -u root -p<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>cat /etc/local/mysql/mysql.passwd<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><p>The above command reads the password from the configuration file,
and directly uses it as input for the <code>mysql</code> command.</p><p>The correct term for this is <strong>command substitution</strong>.</p><h2 id=further-information>Further information<a hidden class=anchor aria-hidden=true href=#further-information>#</a></h2><p><a href=https://tldp.org/LDP/abs/html/commandsub.html>https://tldp.org/LDP/abs/html/commandsub.html</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/bash/>bash</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>