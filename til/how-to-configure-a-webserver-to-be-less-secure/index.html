<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Configure a Webserver to Be Less Secure | Jürgen Gmach</title><meta name=keywords content="nginx,java,ssl,security"><meta name=description content="This question sounds odd. Why would you want a less secure web server?
Well, maybe you have to support older clients.
e.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.
From a Java application, which cannot be updated, but has to work, I got the following exception:
Exception in thread &#34;main&#34; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun."><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><meta property="og:title" content="How to Configure a Webserver to Be Less Secure"><meta property="og:description" content="This question sounds odd. Why would you want a less secure web server?
Well, maybe you have to support older clients.
e.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.
From a Java application, which cannot be updated, but has to work, I got the following exception:
Exception in thread &#34;main&#34; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun."><meta property="og:type" content="article"><meta property="og:url" content="https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/"><meta property="article:section" content="til"><meta property="article:published_time" content="2021-04-29T11:43:48+02:00"><meta property="article:modified_time" content="2021-04-29T11:43:48+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Configure a Webserver to Be Less Secure"><meta name=twitter:description content="This question sounds odd. Why would you want a less secure web server?
Well, maybe you have to support older clients.
e.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.
From a Java application, which cannot be updated, but has to work, I got the following exception:
Exception in thread &#34;main&#34; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"},{"@type":"ListItem","position":3,"name":"How to Configure a Webserver to Be Less Secure","item":"https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Configure a Webserver to Be Less Secure","name":"How to Configure a Webserver to Be Less Secure","description":"This question sounds odd. Why would you want a less secure web server?\nWell, maybe you have to support older clients.\ne.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.\nFrom a Java application, which cannot be updated, but has to work, I got the following exception:\nException in thread \u0026#34;main\u0026#34; javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun.","keywords":["nginx","java","ssl","security"],"articleBody":"This question sounds odd. Why would you want a less secure web server?\nWell, maybe you have to support older clients.\ne.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.\nFrom a Java application, which cannot be updated, but has to work, I got the following exception:\nException in thread \"main\" javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun.security.ssl.Alerts.getSSLException(Alerts.java:192) at sun.security.ssl.Alerts.getSSLException(Alerts.java:154) at sun.security.ssl.SSLSocketImpl.recvAlert(SSLSocketImpl.java:1979) at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:1086) at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332) at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359) at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343) at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559) at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185) at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1301) at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254) at com.apisgroup.Main.main(Main.java:21) Note to myself - writing clear and helpful exceptions messages could work wonder.\nSo, what was going on? Obviously, there was a problem with the handshake. But why?\nAs this was a regression, I compared the old server setup and the setup after an OS and web server update.\nnginx came with a new default configuration, and with more secure ciphers.\nhttps://www.ssllabs.com/ssltest/ showed an A-rating, all good! Except the Java application could no longer communicate with the server.\nconfiguring a secure server is easy So, configuring a secure server is easy, well, when you follow the correct resources and when you trust that those give reliable recommendations.\nConfiguring a server less secure is harder… which cipher may I allow although it is less (how much less?) secure?\nI am by no means a security specialist, but here are some fine resources:\n https://www.ssllabs.com/ssltest/ - test your site’s certificate and configuration https://ciphersuite.info/ - is a given cipher secure? https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-LIST-FORMAT - format of openssl’s cipher notation openssl ciphers - list available ciphers https://hynek.me/articles/hardening-your-web-servers-ssl-ciphers/ - constantly updated guide how to configure a web server securely https://www.feistyduck.com/bulletproof-tls-newsletter/ - latest security news in your inbox https://www.feistyduck.com/books/bulletproof-ssl-and-tls/ - highly recommended read when you want to dive into this topic https://ssl-config.mozilla.org/ - SSL configuration generator; modern + intermediate + old  After working through some of them, it still did not work.\n Mozilla’s intermediate configuration still prevented access (for IE 11 on Windows Server 2012) my manual setup did not work - the dhe cipher did not show up at SSLLabs…  Note to myself: When you allow diffie hellmann exchange, please make sure to include the dhparams file :-/ … or scratch your head for a while like I did.\nThe final solution emerged from a debugging session with my friendly hosting company (FlyingCircus), looking here and there (hey GitLab!), doing this and that… and finally I got an A rating from SSLLabs, and still allow access for IE 11 and Java 7.\nMy next step: Dig into https://www.feistyduck.com/books/bulletproof-ssl-and-tls/ - 470 pages, here I come!\n","wordCount":"430","inLanguage":"en","datePublished":"2021-04-29T11:43:48+02:00","dateModified":"2021-04-29T11:43:48+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/"},"publisher":{"@type":"Organization","name":"Jürgen Gmach","logo":{"@type":"ImageObject","url":"https://jugmac00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to Configure a Webserver to Be Less Secure</h1><div class=post-meta>April 29, 2021</div></header><div class=post-content><p>This question sounds odd.
Why would you want a less secure web server?</p><p>Well, maybe you have to support older clients.</p><p>e.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server,
which only uses modern and secure ciphers.</p><p>From a Java application,
which cannot be updated,
but has to work,
I got the following exception:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java>Exception in thread <span style=color:#e6db74>&#34;main&#34;</span> javax<span style=color:#f92672>.</span><span style=color:#a6e22e>net</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLHandshakeException</span><span style=color:#f92672>:</span> Received fatal alert<span style=color:#f92672>:</span> handshake_failure
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Alerts</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSSLException</span><span style=color:#f92672>(</span>Alerts<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>192<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Alerts</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getSSLException</span><span style=color:#f92672>(</span>Alerts<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>154<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLSocketImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>recvAlert</span><span style=color:#f92672>(</span>SSLSocketImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1979<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLSocketImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>readRecord</span><span style=color:#f92672>(</span>SSLSocketImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1086<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLSocketImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>performInitialHandshake</span><span style=color:#f92672>(</span>SSLSocketImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1332<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLSocketImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>startHandshake</span><span style=color:#f92672>(</span>SSLSocketImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1359<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>security</span><span style=color:#f92672>.</span><span style=color:#a6e22e>ssl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>SSLSocketImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>startHandshake</span><span style=color:#f92672>(</span>SSLSocketImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1343<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>net</span><span style=color:#f92672>.</span><span style=color:#a6e22e>www</span><span style=color:#f92672>.</span><span style=color:#a6e22e>protocol</span><span style=color:#f92672>.</span><span style=color:#a6e22e>https</span><span style=color:#f92672>.</span><span style=color:#a6e22e>HttpsClient</span><span style=color:#f92672>.</span><span style=color:#a6e22e>afterConnect</span><span style=color:#f92672>(</span>HttpsClient<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>559<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>net</span><span style=color:#f92672>.</span><span style=color:#a6e22e>www</span><span style=color:#f92672>.</span><span style=color:#a6e22e>protocol</span><span style=color:#f92672>.</span><span style=color:#a6e22e>https</span><span style=color:#f92672>.</span><span style=color:#a6e22e>AbstractDelegateHttpsURLConnection</span><span style=color:#f92672>.</span><span style=color:#a6e22e>connect</span><span style=color:#f92672>(</span>AbstractDelegateHttpsURLConnection<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>185<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>net</span><span style=color:#f92672>.</span><span style=color:#a6e22e>www</span><span style=color:#f92672>.</span><span style=color:#a6e22e>protocol</span><span style=color:#f92672>.</span><span style=color:#a6e22e>http</span><span style=color:#f92672>.</span><span style=color:#a6e22e>HttpURLConnection</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInputStream</span><span style=color:#f92672>(</span>HttpURLConnection<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>1301<span style=color:#f92672>)</span>
	at sun<span style=color:#f92672>.</span><span style=color:#a6e22e>net</span><span style=color:#f92672>.</span><span style=color:#a6e22e>www</span><span style=color:#f92672>.</span><span style=color:#a6e22e>protocol</span><span style=color:#f92672>.</span><span style=color:#a6e22e>https</span><span style=color:#f92672>.</span><span style=color:#a6e22e>HttpsURLConnectionImpl</span><span style=color:#f92672>.</span><span style=color:#a6e22e>getInputStream</span><span style=color:#f92672>(</span>HttpsURLConnectionImpl<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>254<span style=color:#f92672>)</span>
	at com<span style=color:#f92672>.</span><span style=color:#a6e22e>apisgroup</span><span style=color:#f92672>.</span><span style=color:#a6e22e>Main</span><span style=color:#f92672>.</span><span style=color:#a6e22e>main</span><span style=color:#f92672>(</span>Main<span style=color:#f92672>.</span><span style=color:#a6e22e>java</span><span style=color:#f92672>:</span>21<span style=color:#f92672>)</span>
</code></pre></div><p>Note to myself - writing clear and helpful exceptions messages could work wonder.</p><p>So, what was going on?
Obviously, there was a problem with the handshake. But why?</p><p>As this was a regression,
I compared the old server setup and the setup after an OS and web server update.</p><p><a href=https://www.nginx.com/>nginx</a> came with a new default configuration,
and with more secure ciphers.</p><p><a href=https://www.ssllabs.com/ssltest/>https://www.ssllabs.com/ssltest/</a> showed an A-rating, all good!
Except the Java application could no longer communicate with the server.</p><h1 id=configuring-a-secure-server-is-easy>configuring a secure server is easy<a hidden class=anchor aria-hidden=true href=#configuring-a-secure-server-is-easy>#</a></h1><p>So, configuring a secure server is easy,
well, when you follow the correct resources and when you trust that those give reliable recommendations.</p><p>Configuring a server less secure is harder&mldr;
which cipher may I allow although it is less (how much less?) secure?</p><p>I am by no means a security specialist,
but here are some fine resources:</p><ul><li><a href=https://www.ssllabs.com/ssltest/>https://www.ssllabs.com/ssltest/</a> -> test your site&rsquo;s certificate and configuration</li><li><a href=https://ciphersuite.info/>https://ciphersuite.info/</a> -> is a given cipher secure?</li><li><a href=https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-LIST-FORMAT>https://www.openssl.org/docs/manmaster/man1/openssl-ciphers.html#CIPHER-LIST-FORMAT</a> -> format of openssl&rsquo;s cipher notation</li><li><code>openssl ciphers</code> -> list available ciphers</li><li><a href=https://hynek.me/articles/hardening-your-web-servers-ssl-ciphers/>https://hynek.me/articles/hardening-your-web-servers-ssl-ciphers/</a> -> constantly updated guide how to configure a web server securely</li><li><a href=https://www.feistyduck.com/bulletproof-tls-newsletter/>https://www.feistyduck.com/bulletproof-tls-newsletter/</a> -> latest security news in your inbox</li><li><a href=https://www.feistyduck.com/books/bulletproof-ssl-and-tls/>https://www.feistyduck.com/books/bulletproof-ssl-and-tls/</a> -> highly recommended read when you want to dive into this topic</li><li><a href=https://ssl-config.mozilla.org/>https://ssl-config.mozilla.org/</a> -> SSL configuration generator; modern + intermediate + old</li></ul><p>After working through some of them, it still did not work.</p><ul><li>Mozilla&rsquo;s <strong>intermediate</strong> configuration still prevented access (for IE 11 on Windows Server 2012)</li><li>my manual setup did not work - the dhe cipher did not show up at SSLLabs&mldr;</li></ul><p>Note to myself: When you allow diffie hellmann exchange,
please make sure to include the dhparams file :-/ &mldr; or scratch your head for a while like I did.</p><p>The final solution emerged from a debugging session with my friendly hosting company
(<a href=https://flyingcircus.io/>FlyingCircus</a>),
looking here and there (hey GitLab!),
doing this and that&mldr; and finally I got an A rating from SSLLabs,
and still allow access for IE 11 and Java 7.</p><p>My next step: Dig into <a href=https://www.feistyduck.com/books/bulletproof-ssl-and-tls/>https://www.feistyduck.com/books/bulletproof-ssl-and-tls/</a> - 470 pages, here I come!</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/nginx/>nginx</a></li><li><a href=https://jugmac00.github.io/tags/java/>java</a></li><li><a href=https://jugmac00.github.io/tags/ssl/>ssl</a></li><li><a href=https://jugmac00.github.io/tags/security/>security</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>