<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Today I Learned | Jürgen Gmach</title><meta name=keywords content><meta name=description content="Things I've learned. And which I look up myself - quite often!"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/til/index.xml><meta property="og:title" content="Today I Learned"><meta property="og:description" content="Things I've learned. And which I look up myself - quite often!"><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/til/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Today I Learned"><meta name=twitter:description content="Things I've learned. And which I look up myself - quite often!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span class=active>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Today I Learned</h1><div class=post-description>Things I've learned. And which I look up myself - quite often!</div></header><article class=post-entry><section class=entry-content>February 15, 2021</section><header class=entry-header><h2><a aria-label="post link to What Is the Difference Between Transaction Abort and Transaction Doom" href=https://jugmac00.github.io/til/what-is-the-difference-between-transaction-abort-and-transaction-doom/>What Is the Difference Between Transaction Abort and Transaction Doom</a></h2></header><section class=entry-content><p><a aria-label="post link to What Is the Difference Between Transaction Abort and Transaction Doom" href=https://jugmac00.github.io/til/what-is-the-difference-between-transaction-abort-and-transaction-doom/>Zope is using the transaction package to manage - you guess - transactions.
More specifically, a transaction starts when Zope receives a request, and the transaction succeeds when the action triggered by the request works out.
When the action causes an exception, the transaction will be rolled back.
This means, usually you very rarely have to interfere with the transaction management manually.
Last week I was implementing a new XML-RPC API, which basically looks like the following code:...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/zope/>zope</a></li><li><a href=https://jugmac00.github.io/tags/transaction/>transaction</a></li></ul></footer></article><article class=post-entry><section class=entry-content>January 29, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Count Number of Selected Lines in Vscode" href=https://jugmac00.github.io/til/how-to-count-number-of-selected-lines-in-vscode/>How to Count Number of Selected Lines in Vscode</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Count Number of Selected Lines in Vscode" href=https://jugmac00.github.io/til/how-to-count-number-of-selected-lines-in-vscode/>Today I wrote a CSV export with many, many columns, where in my Python code each column was calculated on a single line.
So, in order to get the number of columns, I selected all related lines and in the status bar I saw the number of all selected chars! wat?
solutions After some searching on Google and StackOverflow I came to the conclusion…
Either
a) you have to install an outdated plugin...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/vscode/>vscode</a></li></ul></footer></article><article class=post-entry><section class=entry-content>January 19, 2021</section><header class=entry-header><h2><a aria-label="post link to How Can You Convert an Adobe Illustrator File (AI) to an Encapsulated Postscript File (eps)" href=https://jugmac00.github.io/til/how-can-you-convert-an-adobe-illustrator-file-to-an-encapsulated-postscript-file/>How Can You Convert an Adobe Illustrator File (AI) to an Encapsulated Postscript File (eps)</a></h2></header><section class=entry-content><p><a aria-label="post link to How Can You Convert an Adobe Illustrator File (AI) to an Encapsulated Postscript File (eps)" href=https://jugmac00.github.io/til/how-can-you-convert-an-adobe-illustrator-file-to-an-encapsulated-postscript-file/>One of my web applications is using RML to render PDFs.
For one PDF document template I received a new logo file which was produced with Adobe Illustrator (file extension .ai).
The RML library cannot handle ai-files, but eps-files.
In order to convert the file I used Ghostscript as following:
gs -dNOPAUSE -dBATCH -sDEVICE=eps2write -sOutputFile=out.eps input.ai where
-dNOPAUSE means “no pause after page” -dBATCH means “exit after last file” -sDEVICE selects the device -sOutputFile is the name of the - you can guess it - output file P....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/adobe-illustrator/>adobe-illustrator</a></li><li><a href=https://jugmac00.github.io/tags/postscript/>postscript</a></li><li><a href=https://jugmac00.github.io/tags/linux/>linux</a></li><li><a href=https://jugmac00.github.io/tags/reportlab/>reportlab</a></li></ul></footer></article><article class=post-entry><section class=entry-content>January 19, 2021</section><header class=entry-header><h2><a aria-label="post link to Which Image Formats Are Supported by ReportLab's PDF Library" href=https://jugmac00.github.io/til/which-image-formats-are-supported-by-reportlabs-pdf-library/>Which Image Formats Are Supported by ReportLab's PDF Library</a></h2></header><section class=entry-content><p><a aria-label="post link to Which Image Formats Are Supported by ReportLab's PDF Library" href=https://jugmac00.github.io/til/which-image-formats-are-supported-by-reportlabs-pdf-library/>ReportLab is an open source library for generating PDFs, written in Python.
While ReportLab is absolutely battle tested, even Wikipedia uses it for PDF generation, documentation lacks a bit.
I could not find a reliable source for supported image formats.
Also, there is both an open source and a commercial license for ReportLab, with different feature sets. The latter one is supposed to be able to treat PDFs as image files, which then can be embedded....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/reportlab/>reportlab</a></li><li><a href=https://jugmac00.github.io/tags/pdf/>pdf</a></li></ul></footer></article><article class=post-entry><section class=entry-content>January 11, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Install a Python Package Directly From a Git Branch From GitHub" href=https://jugmac00.github.io/til/how-to-install-a-python-package-directly-from-a-git-branch-from-github/>How to Install a Python Package Directly From a Git Branch From GitHub</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Install a Python Package Directly From a Git Branch From GitHub" href=https://jugmac00.github.io/til/how-to-install-a-python-package-directly-from-a-git-branch-from-github/>Bernát Gábor is currently working on a complete rewrite for tox.
I alpha-tested the latest release (4.0.0a2), and reported a couple of problems.
Within a day Bernát published some fixes on the rewrite branch, and asked me to test it.
That means there is no new package on PyPI, yet.
So, I had to install tox directly from GitHub, to be exact, from the rewrite branch:
pip install git+https://github.com/tox-dev/tox@rewrite or more general...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li><li><a href=https://jugmac00.github.io/tags/python/>python</a></li><li><a href=https://jugmac00.github.io/tags/github/>github</a></li><li><a href=https://jugmac00.github.io/tags/packaging/>packaging</a></li></ul></footer></article><article class=post-entry><section class=entry-content>December 4, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Check Support Status for Installed Packages" href=https://jugmac00.github.io/til/how-to-check-support-status-for-installed-packages/>How to Check Support Status for Installed Packages</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Check Support Status for Installed Packages" href=https://jugmac00.github.io/til/how-to-check-support-status-for-installed-packages/>When you install a package from the package repository on Ubuntu LTS, the package will be maintained for 5 years, right?
No!
At least, not necessarily.
Basically, you need to understand that there are different repository types for Ubuntu:
type maintained by canonical floss guaranteed support in years main yes yes 5 restricted yes no ? universe no yes ?...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/ubuntu/>ubuntu</a></li><li><a href=https://jugmac00.github.io/tags/apt/>apt</a></li></ul></footer></article><article class=post-entry><section class=entry-content>December 3, 2020</section><header class=entry-header><h2><a aria-label="post link to What Is the Difference Between Invoking `pytest` and `python -m pytest`" href=https://jugmac00.github.io/til/what-is-the-difference-between-invoking-pytest-and-python-m-pytest/>What Is the Difference Between Invoking `pytest` and `python -m pytest`</a></h2></header><section class=entry-content><p><a aria-label="post link to What Is the Difference Between Invoking `pytest` and `python -m pytest`" href=https://jugmac00.github.io/til/what-is-the-difference-between-invoking-pytest-and-python-m-pytest/>Yesterday, I was recommended to have a look at Shopyo - Open inventory management and Point of sales.
As I am passionate about testing and CI, I always have a look at configuration files for newly discovered projects.
After I cloned the repository, I tried to run the tests.
So, without having a look into the documentation ( :-/ ), I
created a virtual env installed the dependencies ran pytest from the root of the project … and got a ModuleNotFoundError The friendly maintainers of the projects pointed me in the right direction on how to run tests for this project:...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/python/>python</a></li><li><a href=https://jugmac00.github.io/tags/pytest/>pytest</a></li></ul></footer></article><article class=post-entry><section class=entry-content>November 18, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Delete Complete Lines With Search Replace" href=https://jugmac00.github.io/til/how-to-delete-complete-lines-with-search-replace/>How to Delete Complete Lines With Search Replace</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Delete Complete Lines With Search Replace" href=https://jugmac00.github.io/til/how-to-delete-complete-lines-with-search-replace/>For many years now, I had been using Jetbrain’s IntelliJ Idea Ultimate happily also for my Python development.
Due to “legacy issues”, I had to apply many # noinspection annotations to my source code.
Now, that I switched to VS Code, I want to get rid of actually 821 # noinspection annotations :-)
A simple search for # noinspection.* and a replacement with basically nothing would work, but that would leave behind many blank lines....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/vscode/>vscode</a></li></ul></footer></article><article class=post-entry><section class=entry-content>November 16, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Configure Git for Testing" href=https://jugmac00.github.io/til/how-to-configure-git-for-testing/>How to Configure Git for Testing</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Configure Git for Testing" href=https://jugmac00.github.io/til/how-to-configure-git-for-testing/>batou is a configuration management and deployment tool, comparable to Ansible.
With batou you can deploy applications, also from git repositories.
For this batou uses the git binary - so this has to be tested somehow.
One test looks like this…
def test_git_remote_init_pull(tmpdir): source = tmpdir.mkdir("source") dest = tmpdir.mkdir("dest") with source.as_cwd(): remote_core.cmd("git init") source.join("foo.txt").write("bar") remote_core.cmd("git add foo.txt") remote_core.cmd("git commit -m bar") remote_core.ensure_repository(str(dest), "git-bundle") remote_core.git_pull_code(str(source), "master") remote_core.git_update_working_copy("master") assert "bar" == dest.join("foo.txt").read() … and worked in some environments, even on Travis, but failed on my Ubuntu box, and later also on GH Actions:...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li><li><a href=https://jugmac00.github.io/tags/batou/>batou</a></li><li><a href=https://jugmac00.github.io/tags/testing/>testing</a></li></ul></footer></article><article class=post-entry><section class=entry-content>November 13, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Group Data Easily With Simplenamespace" href=https://jugmac00.github.io/til/how-to-group-data-easily-with-simplenamespace/>How to Group Data Easily With Simplenamespace</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Group Data Easily With Simplenamespace" href=https://jugmac00.github.io/til/how-to-group-data-easily-with-simplenamespace/>While you could use the usual suspects, like a dictionary, a NamedTuple, a dataclass, or even an “empty” class, there is yet another way: SimpleNamespace.
>>> from types import SimpleNamespace >>> simple_ns = SimpleNamespace(a=1, b="two") >>> simple_ns namespace(a=1, b='two') >>> simple_ns.a 1 >>> simple_ns.b 'two' >>> implementation This builtin is implemented in C, but the Python docs show how it would look like in Python:
class SimpleNamespace: def __init__(self, /, **kwargs): self....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/python/>python</a></li><li><a href=https://jugmac00.github.io/tags/namespace/>namespace</a></li></ul></footer></article><footer class=page-footer><nav class=pagination><a class=prev href=https://jugmac00.github.io/til/page/4/>« Prev Page</a>
<a class=next href=https://jugmac00.github.io/til/page/6/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>