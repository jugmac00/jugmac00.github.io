<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Today I Learned | Jürgen Gmach</title><meta name=keywords content><meta name=description content="Things I've learned. And which I look up myself - quite often!"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/til/index.xml><meta property="og:title" content="Today I Learned"><meta property="og:description" content="Things I've learned. And which I look up myself - quite often!"><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/til/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Today I Learned"><meta name=twitter:description content="Things I've learned. And which I look up myself - quite often!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span class=active>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Today I Learned</h1><div class=post-description>Things I've learned. And which I look up myself - quite often!</div></header><article class=post-entry><section class=entry-content>June 9, 2021</section><header class=entry-header><h2><a aria-label="post link to What Is the True Order of Files in a Directory" href=https://jugmac00.github.io/til/what-is-the-true-order-of-files-in-a-directory/>What Is the True Order of Files in a Directory</a></h2></header><section class=entry-content><p><a aria-label="post link to What Is the True Order of Files in a Directory" href=https://jugmac00.github.io/til/what-is-the-true-order-of-files-in-a-directory/>This week I faced a very odd bug at work.
A build process failed - on one machine, but not on the other.
Identical setup - of course :-/
The build script consists of a bash script, which wraps a call to the C binary.
The bash script was innocent.
When I had a closer look at the C source code, it turned out there were about 30 lines of code, just dealing with traversing directories and copying files and folders....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/linux/>linux</a></li><li><a href=https://jugmac00.github.io/tags/bash/>bash</a></li></ul></footer></article><article class=post-entry><section class=entry-content>May 28, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Delete Anonymous Docker Volumes on Tear Down" href=https://jugmac00.github.io/til/how-to-delete-anonymous-docker-volumes-on-tear-down/>How to Delete Anonymous Docker Volumes on Tear Down</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Delete Anonymous Docker Volumes on Tear Down" href=https://jugmac00.github.io/til/how-to-delete-anonymous-docker-volumes-on-tear-down/>On one of our servers, there is a demo application installed for our customers.
The application, which consists of two docker images, is managed by a docker-compose.yml file.
As the customers are able to change the data, the containers and the attached volume are torn down every night, and then rebuilt.
Monitoring made me aware, that we are running low on disk space.
Turns out the volumes do not get deleted with the current cronjob:...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/docker/>docker</a></li><li><a href=https://jugmac00.github.io/tags/docker-compose/>docker-compose</a></li></ul></footer></article><article class=post-entry><section class=entry-content>May 22, 2021</section><header class=entry-header><h2><a aria-label="post link to Variable Scope and List Comprehensions" href=https://jugmac00.github.io/til/variable-scope-and-list-comprehensions/>Variable Scope and List Comprehensions</a></h2></header><section class=entry-content><p><a aria-label="post link to Variable Scope and List Comprehensions" href=https://jugmac00.github.io/til/variable-scope-and-list-comprehensions/>Python 2 In Python 2 the temporary variable was not so temporary at all…
❯ python2 Python 2.7.17 (default, Feb 27 2021, 15:10:58) [GCC 7.5.0] on linux2 Type "help", "copyright", "credits" or "license" for more information. >>> s = "abc" >>> [x for x in s] ['a', 'b', 'c'] >>> x 'c' As you can see, x leaks outside the scope the list comprehension.
Python 3 This has been changed in Python 3....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/python/>python</a></li><li><a href=https://jugmac00.github.io/tags/comprehensions/>comprehensions</a></li></ul></footer></article><article class=post-entry><section class=entry-content>May 12, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Create an Empty Git Branch" href=https://jugmac00.github.io/til/how-to-create-an-empty-git-branch/>How to Create an Empty Git Branch</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Create an Empty Git Branch" href=https://jugmac00.github.io/til/how-to-create-an-empty-git-branch/>What do I mean by an empty branch?
Simply, a branch with no commits.
Why on earth… Why would one even need an empty branch?
There are not many reasons which come to my mind, but imagine you start a rewrite of an existing project, and you want to start from scratch, but you want to keep the rewrite in the same repository.
For example tox does this:
the current main version is on master the upcoming version 4, which is a complete rewrite, is on the rewrite branch....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li></ul></footer></article><article class=post-entry><section class=entry-content>May 5, 2021</section><header class=entry-header><h2><a aria-label="post link to How Can You Reclaim Some Disk Space From Docker" href=https://jugmac00.github.io/til/how-can-you-reclaim-some-disk-space-from-docker/>How Can You Reclaim Some Disk Space From Docker</a></h2></header><section class=entry-content><p><a aria-label="post link to How Can You Reclaim Some Disk Space From Docker" href=https://jugmac00.github.io/til/how-can-you-reclaim-some-disk-space-from-docker/>If you use Docker containers, and who doesn’t these times, you need to take care that Docker does not accumulate a lot of cruft.
remains of docker run If you start a container via docker run, and without the highly recommended option --rm, the exited Docker container will still leave some remains on your system.
In my case oO…
❯ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES c14c0bd0d850 jetbrains/youtrack:2020....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/docker/>docker</a></li><li><a href=https://jugmac00.github.io/tags/disk-space/>disk-space</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 30, 2021</section><header class=entry-header><h2><a aria-label="post link to What Is the Meaning of Dollar Dollar in Bash" href=https://jugmac00.github.io/til/what-is-the-meaning-of-dollar-dollar-in-bash/>What Is the Meaning of Dollar Dollar in Bash</a></h2></header><section class=entry-content><p><a aria-label="post link to What Is the Meaning of Dollar Dollar in Bash" href=https://jugmac00.github.io/til/what-is-the-meaning-of-dollar-dollar-in-bash/>I stumbled upon a colleague’s bash script which contained the following line, which in isolation, made not much sense to me.
WRKDIR=~/app/work$$ But after some googling and having a look at the complete scope of the script, I finally got it.
... WRKDIR=~/app/work$$ ... mkdir $WRKDIR ... ... ... ... rmdir $WRKDIR $$ is a reference to the PID (process id) it was used to create a unique temporary file All good?...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/bash/>bash</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 29, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Run a Bash Script in a Sane Way" href=https://jugmac00.github.io/til/how-to-run-a-bash-script-in-a-sane-way/>How to Run a Bash Script in a Sane Way</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Run a Bash Script in a Sane Way" href=https://jugmac00.github.io/til/how-to-run-a-bash-script-in-a-sane-way/>When you never had problems with running/debugging a bash script, you might wonder what I am talking about.
Instead of introducing the possible problems, and then the way to counter them, let’s start with the solution.
All your bash scripts should probably start with…
#!/usr/bin/env bash … wait… it goes on…
set -euxo pipefail Wat? Ok, let’s go through the options, one by one.
set -e This makes a bash script to stop on error immediately, and exit....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/bash/>bash</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 29, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Configure a Webserver to Be Less Secure" href=https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/>How to Configure a Webserver to Be Less Secure</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Configure a Webserver to Be Less Secure" href=https://jugmac00.github.io/til/how-to-configure-a-webserver-to-be-less-secure/>This question sounds odd. Why would you want a less secure web server?
Well, maybe you have to support older clients.
e.g. IE 11 on Windows 8.1 or Java 7 (cough) cannot connect to a web server, which only uses modern and secure ciphers.
From a Java application, which cannot be updated, but has to work, I got the following exception:
Exception in thread "main" javax.net.ssl.SSLHandshakeException: Received fatal alert: handshake_failure at sun....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/nginx/>nginx</a></li><li><a href=https://jugmac00.github.io/tags/java/>java</a></li><li><a href=https://jugmac00.github.io/tags/ssl/>ssl</a></li><li><a href=https://jugmac00.github.io/tags/security/>security</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 27, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Globally Gitignore Configuration Files" href=https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/>How to Globally Gitignore Configuration Files</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Globally Gitignore Configuration Files" href=https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/>Until today, I did not make up my mind about what to do with configuration files, created by e.g. VS Code.
Certainly, I do not want to commit them, but putting it into every’s repository .gitignore file is also cumbersome - and sometimes it is not possible.
I always do a git add -u to avoid accidentally adding a venv or similar, so it did not really matter.
Except…
❯ ....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li><li><a href=https://jugmac00.github.io/tags/gitignore/>gitignore</a></li><li><a href=https://jugmac00.github.io/tags/vscode/>vscode</a></li><li><a href=https://jugmac00.github.io/tags/batou/>batou</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 24, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Test Log Output With zope.testrunner" href=https://jugmac00.github.io/til/how-to-test-log-output-with-zope-testrunner/>How to Test Log Output With zope.testrunner</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Test Log Output With zope.testrunner" href=https://jugmac00.github.io/til/how-to-test-log-output-with-zope-testrunner/>How to test log output with zope.testrunner? While pytest makes it very easy to work with log files via the caplog fixture, I was not aware how to test them with zope.testrunner, which is used for almost all Zope repositories.
When I asked during yesterday’s Zope sprint, I got no answer.
But coincidentally, I stumbled upon a broken doctest which… tests the log output of a function!
So… thanks for failing… I guess :-)...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/zope/>zope</a></li><li><a href=https://jugmac00.github.io/tags/zope.testrunner/>zope.testrunner</a></li><li><a href=https://jugmac00.github.io/tags/pytest/>pytest</a></li></ul></footer></article><footer class=page-footer><nav class=pagination><a class=prev href=https://jugmac00.github.io/til/page/2/>« Prev Page</a>
<a class=next href=https://jugmac00.github.io/til/page/4/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>