<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Today I Learned | Jürgen Gmach</title><meta name=keywords content><meta name=description content="Things I've learned. And which I look up myself - quite often!"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/til/index.xml><meta property="og:title" content="Today I Learned"><meta property="og:description" content="Things I've learned. And which I look up myself - quite often!"><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/til/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Today I Learned"><meta name=twitter:description content="Things I've learned. And which I look up myself - quite often!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span class=active>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Today I Learned</h1><div class=post-description>Things I've learned. And which I look up myself - quite often!</div></header><article class=post-entry><header class=entry-header><h2>How to Install a Python Package Directly From a Git Branch From GitHub</h2></header><section class=entry-content><p>Bernát Gábor is currently working on a complete rewrite for tox.
I alpha-tested the latest release (4.0.0a2), and reported a couple of problems.
Within a day Bernát published some fixes on the rewrite branch, and asked me to test it.
That means there is no new package on PyPI, yet.
So, I had to install tox directly from GitHub, to be exact, from the rewrite branch:
pip install git+https://github.com/tox-dev/tox@rewrite or more general...</p></section><footer class=entry-footer><p>git|python|github|packaging</p>January 11, 2021</footer><a class=entry-link aria-label="post link to How to Install a Python Package Directly From a Git Branch From GitHub" href=https://jugmac00.github.io/til/how-to-install-a-python-package-directly-from-a-git-branch-from-github/></a></article><article class=post-entry><header class=entry-header><h2>What Is the Difference Between Invoking `pytest` and `python -m pytest`</h2></header><section class=entry-content><p>Yesterday, I was recommended to have a look at Shopyo - Open inventory management and Point of sales.
As I am passionate about testing and CI, I always have a look at configuration files for newly discovered projects.
After I cloned the repository, I tried to run the tests.
So, without having a look into the documentation ( :-/ ), I
created a virtual env installed the dependencies ran pytest from the root of the project … and got a ModuleNotFoundError The friendly maintainers of the projects pointed me in the right direction on how to run tests for this project:...</p></section><footer class=entry-footer><p>python|pytest</p>December 3, 2020</footer><a class=entry-link aria-label="post link to What Is the Difference Between Invoking `pytest` and `python -m pytest`" href=https://jugmac00.github.io/til/what-is-the-difference-between-invoking-pytest-and-python-m-pytest/></a></article><article class=post-entry><header class=entry-header><h2>How to Configure Git for Testing</h2></header><section class=entry-content><p>batou is a configuration management and deployment tool, comparable to Ansible.
With batou you can deploy applications, also from git repositories.
For this batou uses the git binary - so this has to be tested somehow.
One test looks like this…
def test_git_remote_init_pull(tmpdir): source = tmpdir.mkdir("source") dest = tmpdir.mkdir("dest") with source.as_cwd(): remote_core.cmd("git init") source.join("foo.txt").write("bar") remote_core.cmd("git add foo.txt") remote_core.cmd("git commit -m bar") remote_core.ensure_repository(str(dest), "git-bundle") remote_core.git_pull_code(str(source), "master") remote_core.git_update_working_copy("master") assert "bar" == dest.join("foo.txt").read() … and worked in some environments, even on Travis, but failed on my Ubuntu box, and later also on GH Actions:...</p></section><footer class=entry-footer><p>git|batou|testing</p>November 16, 2020</footer><a class=entry-link aria-label="post link to How to Configure Git for Testing" href=https://jugmac00.github.io/til/how-to-configure-git-for-testing/></a></article><article class=post-entry><header class=entry-header><h2>How to Group Data Easily With Simplenamespace</h2></header><section class=entry-content><p>While you could use the usual suspects, like a dictionary, a NamedTuple, a dataclass, or even an “empty” class, there is yet another way: SimpleNamespace.
>>> from types import SimpleNamespace >>> simple_ns = SimpleNamespace(a=1, b="two") >>> simple_ns namespace(a=1, b='two') >>> simple_ns.a 1 >>> simple_ns.b 'two' >>> implementation This builtin is implemented in C, but the Python docs show how it would look like in Python:
class SimpleNamespace: def __init__(self, /, **kwargs): self....</p></section><footer class=entry-footer><p>python|namespace</p>November 13, 2020</footer><a class=entry-link aria-label="post link to How to Group Data Easily With Simplenamespace" href=https://jugmac00.github.io/til/how-to-group-data-easily-with-simplenamespace/></a></article><article class=post-entry><header class=entry-header><h2>How to Fix Broken Tests on Travis for PyPy</h2></header><section class=entry-content><p>The xenial build of pypy on Travis CI links against OpenSSL 1.0.2, which causes pip install cryptography to fail with
RuntimeError: You are linking against OpenSSL 1.0.2, which is no longer supported by the OpenSSL project. To use this version of cryptography you need to upgrade to a newer version of OpenSSL. For this version only you can also set the environment variable CRYPTOGRAPHY_ALLOW_OPENSSL_102 to allow OpenSSL 1.0.2. Marius found the solution, see https://github....</p></section><footer class=entry-footer><p>travis|pypy</p>October 30, 2020</footer><a class=entry-link aria-label="post link to How to Fix Broken Tests on Travis for PyPy" href=https://jugmac00.github.io/til/how-to-fix-broken-tests-on-travis-for-pypy/></a></article><article class=post-entry><header class=entry-header><h2>What Is the Difference Between Docker Create, Docker Start and Docker Run</h2></header><section class=entry-content><p>In order to be able to answer this question, you have to know that there are
Docker images Docker containers Docker images are blueprints or templates.
Docker containers are the instances, created from the images.
docker create creates a container from an image
docker start starts a container
docker run creates a container and starts it
note Trying to use the run command twice results in something like…...</p></section><footer class=entry-footer><p>docker</p>October 29, 2020</footer><a class=entry-link aria-label="post link to What Is the Difference Between Docker Create, Docker Start and Docker Run" href=https://jugmac00.github.io/til/what-is-the-difference-between-docker-create-docker-start-and-docker-run/></a></article><article class=post-entry><header class=entry-header><h2>How to Use the Output of One Bash Command as the Argument of Another</h2></header><section class=entry-content><p>TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.
see here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997
Thanks to Anthony Sottile for reporting!
Please see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.
How do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file....</p></section><footer class=entry-footer><p>bash</p>September 7, 2020</footer><a class=entry-link aria-label="post link to How to Use the Output of One Bash Command as the Argument of Another" href=https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/></a></article><article class=post-entry><header class=entry-header><h2>How Long Does Flask Keep User Generated Data</h2></header><section class=entry-content><p>Easy!
Either Flask persists the data into a database or a file, or it does not.
Wait, not so fast. There is also
session scoped data (e.g. storing data in a cookie or similar) app scoped data (e.g. store data on the app object) The caveats
session scoped data is only available for one client, and as long the session lasts app scoped data is only available within a single app - usually, e....</p></section><footer class=entry-footer><p>flask</p>September 4, 2020</footer><a class=entry-link aria-label="post link to How Long Does Flask Keep User Generated Data" href=https://jugmac00.github.io/til/how-long-does-flask-keep-user-generated-data/></a></article><article class=post-entry><header class=entry-header><h2>How to Sort Files and Folders in Nautilus So Folders Are Shown First</h2></header><section class=entry-content><p>update settings gsettings set org.gtk.Settings.FileChooser sort-directories-first true check settings gsettings get org.gtk.Settings.FileChooser sort-directories-first via https://askubuntu.com/questions/1064482/</p></section><footer class=entry-footer><p>linux|nautilus</p>August 25, 2020</footer><a class=entry-link aria-label="post link to How to Sort Files and Folders in Nautilus So Folders Are Shown First" href=https://jugmac00.github.io/til/how-to-sort-files-and-folders-in-nautilus-so-folders-are-shown-first/></a></article><article class=post-entry><header class=entry-header><h2>How Can You Inject the Language as String Into a Jinja Template</h2></header><section class=entry-content><p>I created a multilingual project using Flask with the help of Flask-Babel.
While the translation mechanism via GNU gettext itself is pretty straightforward, I did not know how to inject the actual language into the Jinja template, so I can use it to set &lt;html lang="xxx">.
While it is odd that this is not mentioned in the documentation, once again StackOverflow offered solutions.
solution one Just translate the language!
&lt;html lang="{{ _('en') }}"> That was too simple to think of :-)...</p></section><footer class=entry-footer><p>flask|jinja</p>August 13, 2020</footer><a class=entry-link aria-label="post link to How Can You Inject the Language as String Into a Jinja Template" href=https://jugmac00.github.io/til/how-can-you-inject-the-language-as-string-into-a-jinja-template/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://jugmac00.github.io/til/page/2/>« Prev Page</a>
<a class=next href=https://jugmac00.github.io/til/page/4/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>