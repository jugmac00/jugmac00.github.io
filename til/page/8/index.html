<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Today I Learned | Jürgen Gmach</title><meta name=keywords content><meta name=description content="Things I've learned. And which I look up myself - quite often!"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/til/index.xml><meta property="og:title" content="Today I Learned"><meta property="og:description" content="Things I've learned. And which I look up myself - quite often!"><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/til/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Today I Learned"><meta name=twitter:description content="Things I've learned. And which I look up myself - quite often!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span class=active>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://jugmac00.github.io/hiring/ title=hiring><span>hiring</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Today I Learned</h1><div class=post-description>Things I've learned. And which I look up myself - quite often!</div></header><article class=post-entry><section class=entry-content>August 10, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Remove a File From a Git Repository but Keep It Locally" href=https://jugmac00.github.io/til/how-to-remove-a-file-from-a-git-repository-but-keep-it-locally/>How to Remove a File From a Git Repository but Keep It Locally</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Remove a File From a Git Repository but Keep It Locally" href=https://jugmac00.github.io/til/how-to-remove-a-file-from-a-git-repository-but-keep-it-locally/>For a video project, I have a video folder with videos and subtitle files.
Obviously, I do not want to have hundreds of megabytes in my git repository, so I git ignored them - but I committed the subtitles.
Now, the videos and the subtitles will be served by nginx from a media directory, outside of the project.
In order to delete the subtitles from the git repository, but keep them locally, I have to…...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li></ul></footer></article><article class=post-entry><section class=entry-content>August 10, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Fix an Old Git Commit" href=https://jugmac00.github.io/til/how-to-fix-an-old-git-commit/>How to Fix an Old Git Commit</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Fix an Old Git Commit" href=https://jugmac00.github.io/til/how-to-fix-an-old-git-commit/>… which you do not have pushed to a remote repository.
git add &lt;my fixed files> git commit --fixup=OLDCOMMIT git rebase --interactive --autosquash OLDCOMMIT^ via https://twitter.com/nnja/status/796876898005417984?s=03 via https://stackoverflow.com/questions/2719579/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/27721031#27721031</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 23, 2020</section><header class=entry-header><h2><a aria-label="post link to Why Is Setuptools a Runtime Dependency" href=https://jugmac00.github.io/til/why-is-setuptools-a-runtime-dependency/>Why Is Setuptools a Runtime Dependency</a></h2></header><section class=entry-content><p><a aria-label="post link to Why Is Setuptools a Runtime Dependency" href=https://jugmac00.github.io/til/why-is-setuptools-a-runtime-dependency/>… or in other words…
Why is this snippet part of setup.py in all Zope projects?
install_requires = 'setuptools', This sounds weird at first, but there is good reason.
setuptools provides pkg_resources, and the latter is used in __init__.py, in order to declare a namespace package.
__import__('pkg_resources').declare_namespace(__name__) Still confused?
While pkg_resources-style namespace packages are no longer recommended for new projects, this approach was used to split large packages, and retrieve the contents from more than one location....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/zope/>zope</a></li><li><a href=https://jugmac00.github.io/tags/setuptools/>setuptools</a></li><li><a href=https://jugmac00.github.io/tags/packaging/>packaging</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 22, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Audit and Harden an SSH Client" href=https://jugmac00.github.io/til/how-to-audit-and-harden-an-ssh-client/>How to Audit and Harden an SSH Client</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Audit and Harden an SSH Client" href=https://jugmac00.github.io/til/how-to-audit-and-harden-an-ssh-client/>You probably know how to harden an SSH server, or at least heard of it.
e.g. do not offer weak ciphers, or do not allow root login…
But did you know you can and also should harden your SSH client?
step 1 - auditing your SSH client terminal 1 git clone https://github.com/jtesta/ssh-audit cd ssh-audit python3.8 ssh-audit.py -c # c = client audit; this starts a ssh server on port 2222 terminal 2 ssh localhost -p 2222 Now, switch back to terminal 1 and have a look at the output - it all should be green - but it won’t....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/ssh/>ssh</a></li><li><a href=https://jugmac00.github.io/tags/security/>security</a></li><li><a href=https://jugmac00.github.io/tags/audit/>audit</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 15, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Find Nginx Config File on a Nixos Vm" href=https://jugmac00.github.io/til/how-to-find-nginx-config-file-on-a-nixos-vm/>How to Find Nginx Config File on a Nixos Vm</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Find Nginx Config File on a Nixos Vm" href=https://jugmac00.github.io/til/how-to-find-nginx-config-file-on-a-nixos-vm/>Nixos… hm, a dream for my web hosting company, but a nightmare as a casual user :-D
Compared to other Linux distributions, there are so many differences.
For a start… where the heck is my nginx.conf? Hint - it is not in /etc/nginx/nginx.conf
systemctl cat nginx ... X-CheckConfigCmd=/nix/store/xxx-nginx-1.14.2/bin/nginx -t -c /nix/store/xxx-nginx.conf -p /var/spool/nginx X-ConfigFile=/nix/store/xxx-nginx.conf In order to show the configuration, FlyingCircus (my hosting company) created a custom command
nginx-show-config | less ....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/nginx/>nginx</a></li><li><a href=https://jugmac00.github.io/tags/nixos/>nixos</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 13, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Access Name Based Servers in Development Setup" href=https://jugmac00.github.io/til/how-to-access-name-based-servers-in-development-setup/>How to Access Name Based Servers in Development Setup</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Access Name Based Servers in Development Setup" href=https://jugmac00.github.io/til/how-to-access-name-based-servers-in-development-setup/>The problem You run a web application via nginx and you dispatch the requests based on the server name.
And maybe the server name header only gets set via a proxy or an URL, which is currently or permanent not available in your dev setup.
The solution curl -- header "Host: example.com" http://localhost Further information Blog post by the maintainer of curl:
https://daniel.haxx.se/blog/2018/04/05/curl-another-host/</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/curl/>curl</a></li><li><a href=https://jugmac00.github.io/tags/nginx/>nginx</a></li><li><a href=https://jugmac00.github.io/tags/development/>development</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 13, 2020</section><header class=entry-header><h2><a aria-label="post link to How to List Packages Which Can Be Upgraded" href=https://jugmac00.github.io/til/how-to-list-packages-which-can-be-upgraded/>How to List Packages Which Can Be Upgraded</a></h2></header><section class=entry-content><p><a aria-label="post link to How to List Packages Which Can Be Upgraded" href=https://jugmac00.github.io/til/how-to-list-packages-which-can-be-upgraded/>Have you ever logged into your Ubuntu machine and you get greeted with xxx packages can be updated?
Do you want to know which packages can be updated before running apt upgrade?
This is for you (and me):
apt list --upgradable</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/ubuntu/>ubuntu</a></li><li><a href=https://jugmac00.github.io/tags/apt/>apt</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 10, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Install Release Candidates" href=https://jugmac00.github.io/til/how-to-install-release-candidates/>How to Install Release Candidates</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Install Release Candidates" href=https://jugmac00.github.io/til/how-to-install-release-candidates/>How to install release candidates Today on Twitter, one of the core maintainers of pytest announced the release of pytest 6.0.0rc1, and also asked to install and run it, and report if there are any problems. https://twitter.com/nicoddemus/status/1281385522422784005
Ok, but how do you install a release candidate?
If you just do a pip install pytest, the current latest release gets installed, which is 5.4.3 as the time of writing.
Turns out, there are a couple of options…...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/python/>python</a></li><li><a href=https://jugmac00.github.io/tags/pip/>pip</a></li><li><a href=https://jugmac00.github.io/tags/github/>github</a></li></ul></footer></article><article class=post-entry><section class=entry-content>June 6, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Deactivate Auto Import in Pylance" href=https://jugmac00.github.io/til/how-to-deactivate-auto-import-in-pylance/>How to Deactivate Auto Import in Pylance</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Deactivate Auto Import in Pylance" href=https://jugmac00.github.io/til/how-to-deactivate-auto-import-in-pylance/>Unfortunately, the auto-import feature in PyLance surprised me with random imports.
e.g. with from unittest.case import expectedFailure just when I typed assert result == expected.
Luckily, the developers heard on the users, and with version 2020.8.0 this “feature” is optional.
In order to deactivate it, set the following option to false:
python.analysis.autoImportCompletions Thank you, Savannah!</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/pylance/>pylance</a></li><li><a href=https://jugmac00.github.io/tags/vscode/>vscode</a></li></ul></footer></article><article class=post-entry><section class=entry-content>April 11, 2020</section><header class=entry-header><h2><a aria-label="post link to How to Replace the Old With the New Decorator Syntax for Zope's Security Declarations" href=https://jugmac00.github.io/til/how-to-replace-the-old-with-the-new-decorator-syntax-for-zopes-security-declarations/>How to Replace the Old With the New Decorator Syntax for Zope's Security Declarations</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Replace the Old With the New Decorator Syntax for Zope's Security Declarations" href=https://jugmac00.github.io/til/how-to-replace-the-old-with-the-new-decorator-syntax-for-zopes-security-declarations/>Zope’s security architecture is built upon security declarations, which scope can be either a method, several methods or even a complete class.
Until recently you usually declared the security for a method like this…
from AccessControl import getSecurityManager class Suggestions(SomeBaseClass): security = ClassSecurityInfo() security.declareProtected("View", "all_suggestions") def all_suggestions(): ... Then, when accessing this method, e.g. the logged in user’s role or group was checked against the security declaration.
One big disadvantage was that you could easily introduce typos....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/zope/>zope</a></li><li><a href=https://jugmac00.github.io/tags/vscode/>vscode</a></li></ul></footer></article><footer class=page-footer><nav class=pagination><a class=prev href=https://jugmac00.github.io/til/page/7/>« Prev Page</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>