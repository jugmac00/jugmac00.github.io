<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Today I Learned | Jürgen Gmach</title><meta name=keywords content><meta name=description content="Things I've learned. And which I look up myself - quite often!"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/><link crossorigin=anonymous href=/assets/css/stylesheet.min.309a3942f890eb0930959205be1f692b2f0e85115a8b0190361a25a37e54fffa.css integrity="sha256-MJo5QviQ6wkwlZIFvh9pKy8OhRFaiwGQNholo35U//o=" rel="preload stylesheet" as=style><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.82.0"><link rel=alternate type=application/rss+xml href=https://jugmac00.github.io/til/index.xml><meta property="og:title" content="Today I Learned"><meta property="og:description" content="Things I've learned. And which I look up myself - quite often!"><meta property="og:type" content="website"><meta property="og:url" content="https://jugmac00.github.io/til/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Today I Learned"><meta name=twitter:description content="Things I've learned. And which I look up myself - quite often!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:#1d1e20;--entry:#2e2e33;--primary:rgba(255, 255, 255, 0.84);--secondary:rgba(255, 255, 255, 0.56);--tertiary:rgba(255, 255, 255, 0.16);--content:rgba(255, 255, 255, 0.74);--hljs-bg:#2e2e33;--code-bg:#37383e;--border:#333}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span class=active>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Today I Learned</h1><div class=post-description>Things I've learned. And which I look up myself - quite often!</div></header><article class=post-entry><section class=entry-content>August 2, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Setup a Cronjob for a Tool Installed via pipx" href=https://jugmac00.github.io/til/how-to-setup-a-cronjob-for-a-tool-installed-via-pipx/>How to Setup a Cronjob for a Tool Installed via pipx</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Setup a Cronjob for a Tool Installed via pipx" href=https://jugmac00.github.io/til/how-to-setup-a-cronjob-for-a-tool-installed-via-pipx/>The company I work for finally says good-bye to Subversion, and while migrating to git, we also decided to move to GitHub and no longer host the repositories inhouse.
While I think GitHub should be pretty reliable, data loss still could happen, so I decided we need some backup.
I use all-repos to manage open source repositories on a daily basis. Its all-repos-clone command looks like a great fit to backup the repositories to a local virtual machine....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/pipx/>pipx</a></li><li><a href=https://jugmac00.github.io/tags/cronjob/>cronjob</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 31, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Find Out Which Files Changed Most Often in a Git Repository" href=https://jugmac00.github.io/til/how-to-find-out-which-files-changed-most-often-in-a-git-repository/>How to Find Out Which Files Changed Most Often in a Git Repository</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Find Out Which Files Changed Most Often in a Git Repository" href=https://jugmac00.github.io/til/how-to-find-out-which-files-changed-most-often-in-a-git-repository/>I found this helpful command while cleaning up my Desktop - I cannot recall where I got it from :-/
git log --since 6.months.ago --numstat | awk '/^[0-9-]+/{ print $NF}' | sort | uniq -c | sort -nr | head This will list the top 10 most often changed files in your git repository.
Why would you want to know this?
Well, several things come to my mind:
you get a quick overview what was changed in the last couple of months this could indicate problems such as a god class, when a file shows up you did not expect What do you think?...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/git/>git</a></li><li><a href=https://jugmac00.github.io/tags/awk/>awk</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 14, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Find the Reverse Dependency of a Package" href=https://jugmac00.github.io/til/how-to-find-the-reverse-dependency-of-a-package/>How to Find the Reverse Dependency of a Package</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Find the Reverse Dependency of a Package" href=https://jugmac00.github.io/til/how-to-find-the-reverse-dependency-of-a-package/>Today, there was a nice little discussion on vacdec’s GitHub project about what needs to be installed to make the barcode scanner pyzbar work on Ubuntu and MacOS.
The original poster proposed to install zbar on both operating systems.
zbar for Ubuntu comes with a ton of dependencies.
So I had a look at my installed packages…
❯ apt list --installed | grep zbar libzbar0/bionic,now 0.10+doc-10.1build2 amd64 [installed] … which only revealed the libzbar0 library....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/ubuntu/>ubuntu</a></li><li><a href=https://jugmac00.github.io/tags/apt/>apt</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 6, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Debug Network Issues" href=https://jugmac00.github.io/til/how-to-debug-network-issues/>How to Debug Network Issues</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Debug Network Issues" href=https://jugmac00.github.io/til/how-to-debug-network-issues/>Unlike I stated earlier today…
It’s not DNS
There’s no way it’s DNS
It was DNS
… this time it was not DNS. But let’s start from the beginning.
two lonely OpenSUSE virtual machines I inherited two OpenSUSE VMs from a departing colleague.
After changing passwords and cataloging what services are installed, I tried to update the VMs… and got the following errors…
# zypper refresh Problem retrieving files from 'Haupt-Repository (NON-OSS)'....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/linux/>linux</a></li><li><a href=https://jugmac00.github.io/tags/dns/>dns</a></li><li><a href=https://jugmac00.github.io/tags/network/>network</a></li><li><a href=https://jugmac00.github.io/tags/suse/>suse</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 6, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Patch Java 7 Certificate Store to Support Let's Encrypt" href=https://jugmac00.github.io/til/how-to-patch-java-7-certificate-store-to-support-lets-encrypt/>How to Patch Java 7 Certificate Store to Support Let's Encrypt</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Patch Java 7 Certificate Store to Support Let's Encrypt" href=https://jugmac00.github.io/til/how-to-patch-java-7-certificate-store-to-support-lets-encrypt/>Do you have to support a very old Java application?
Old as in only runs on 1.7.0_21-b11?
And this application needs to access websites on servers using Let’s Encrypt?
Especially after September 2021, when the widespread DST Root CA X3 certificate will expire?
There is help.
keytool to the rescue Oracle kindly provides keytool.
With keytool you can view and manipulate the contents of the Java certificate store, which usually can be found at /lib/security/cacerts within in your Java runtime....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/java/>java</a></li><li><a href=https://jugmac00.github.io/tags/ssl/>ssl</a></li><li><a href=https://jugmac00.github.io/tags/tls/>tls</a></li><li><a href=https://jugmac00.github.io/tags/letsencrypt/>letsencrypt</a></li></ul></footer></article><article class=post-entry><section class=entry-content>July 6, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Check Configuration for Bind" href=https://jugmac00.github.io/til/how-to-check-configuration-for-bind/>How to Check Configuration for Bind</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Check Configuration for Bind" href=https://jugmac00.github.io/til/how-to-check-configuration-for-bind/>You probably heard of the three steps on how to debug networking issues…
It’s not DNS There’s no way it’s DNS It was DNS While this is not only funny, but also true, you can do your part to prevent such issues.
When you change the configuration for BIND, you should make sure it is still working.
check bind configuration $ named-checkconf /path/to/named.conf The path depends on your distribution....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/bind/>bind</a></li><li><a href=https://jugmac00.github.io/tags/named/>named</a></li><li><a href=https://jugmac00.github.io/tags/dns/>dns</a></li></ul></footer></article><article class=post-entry><section class=entry-content>June 21, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Generate Quick Git Stats" href=https://jugmac00.github.io/til/how-to-generate-quick-git-stats/>How to Generate Quick Git Stats</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Generate Quick Git Stats" href=https://jugmac00.github.io/til/how-to-generate-quick-git-stats/>Ever wondered how many lines of code you have added or deleted, within a day or a week?
Here we go…
❯ git diff --shortstat "@{1 day ago}" 36 files changed, 35 insertions(+), 1263 deletions(-) ❯ git diff --shortstat "@{1 week ago}" 40 files changed, 821 insertions(+), 1270 deletions(-) How do you generate stats from git?
Drop me a line on Twitter or via e-mail.</a></p></section><footer class=entry-footer></footer></article><article class=post-entry><section class=entry-content>June 11, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Bring Color Back Into tox4 and pytest" href=https://jugmac00.github.io/til/how-to-bring-color-back-into-tox-and-pytest/>How to Bring Color Back Into tox4 and pytest</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Bring Color Back Into tox4 and pytest" href=https://jugmac00.github.io/til/how-to-bring-color-back-into-tox-and-pytest/>When I first tried the pre-release of the upcoming tox rewrite, I noticed tox itself has funky new colors - which I like a lot…
But what happened with the green dots for pytest'soutput?
You may recall, running the old tox or pytest directly, the dots would be green…
why has this changed Honestly, I am not 100% sure.
But I know how to get the colors back.
All you need to do is changing this line commands = pytest {posargs} in your tox....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/pytest/>pytest</a></li><li><a href=https://jugmac00.github.io/tags/tox/>tox</a></li><li><a href=https://jugmac00.github.io/tags/tty/>tty</a></li></ul></footer></article><article class=post-entry><section class=entry-content>June 9, 2021</section><header class=entry-header><h2><a aria-label="post link to What Is the True Order of Files in a Directory" href=https://jugmac00.github.io/til/what-is-the-true-order-of-files-in-a-directory/>What Is the True Order of Files in a Directory</a></h2></header><section class=entry-content><p><a aria-label="post link to What Is the True Order of Files in a Directory" href=https://jugmac00.github.io/til/what-is-the-true-order-of-files-in-a-directory/>This week I faced a very odd bug at work.
A build process failed - on one machine, but not on the other.
Identical setup - of course :-/
The build script consists of a bash script, which wraps a call to the C binary.
The bash script was innocent.
When I had a closer look at the C source code, it turned out there were about 30 lines of code, just dealing with traversing directories and copying files and folders....</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/linux/>linux</a></li><li><a href=https://jugmac00.github.io/tags/bash/>bash</a></li></ul></footer></article><article class=post-entry><section class=entry-content>May 28, 2021</section><header class=entry-header><h2><a aria-label="post link to How to Delete Anonymous Docker Volumes on Tear Down" href=https://jugmac00.github.io/til/how-to-delete-anonymous-docker-volumes-on-tear-down/>How to Delete Anonymous Docker Volumes on Tear Down</a></h2></header><section class=entry-content><p><a aria-label="post link to How to Delete Anonymous Docker Volumes on Tear Down" href=https://jugmac00.github.io/til/how-to-delete-anonymous-docker-volumes-on-tear-down/>On one of our servers, there is a demo application installed for our customers.
The application, which consists of two docker images, is managed by a docker-compose.yml file.
As the customers are able to change the data, the containers and the attached volume are torn down every night, and then rebuilt.
Monitoring made me aware, that we are running low on disk space.
Turns out the volumes do not get deleted with the current cronjob:...</a></p></section><footer class=entry-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/docker/>docker</a></li><li><a href=https://jugmac00.github.io/tags/docker-compose/>docker-compose</a></li></ul></footer></article><footer class=page-footer><nav class=pagination><a class=next href=https://jugmac00.github.io/til/page/2/>Next Page »</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>let menu=document.getElementById('menu');menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>