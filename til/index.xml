<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>Today I Learned on Jürgen Gmach</title><link>https://jugmac00.github.io/til/</link><description>Recent content in Today I Learned on Jürgen Gmach</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Sat, 22 May 2021 14:02:09 +0200</lastBuildDate><atom:link href="https://jugmac00.github.io/til/index.xml" rel="self" type="application/rss+xml"/><item><title>Variable Scope and List Comprehensions</title><link>https://jugmac00.github.io/til/variable-scope-and-list-comprehensions/</link><pubDate>Sat, 22 May 2021 14:02:09 +0200</pubDate><guid>https://jugmac00.github.io/til/variable-scope-and-list-comprehensions/</guid><description>Python 2 In Python 2 the temporary variable was not so temporary at all&amp;hellip;
❯ python2 Python 2.7.17 (default, Feb 27 2021, 15:10:58) [GCC 7.5.0] on linux2 Type &amp;#34;help&amp;#34;, &amp;#34;copyright&amp;#34;, &amp;#34;credits&amp;#34; or &amp;#34;license&amp;#34; for more information. &amp;gt;&amp;gt;&amp;gt; s = &amp;#34;abc&amp;#34; &amp;gt;&amp;gt;&amp;gt; [x for x in s] [&amp;#39;a&amp;#39;, &amp;#39;b&amp;#39;, &amp;#39;c&amp;#39;] &amp;gt;&amp;gt;&amp;gt; x &amp;#39;c&amp;#39; As you can see, x leaks outside the scope the list comprehension.
Python 3 This has been changed in Python 3.</description></item><item><title>How to Create an Empty Git Branch</title><link>https://jugmac00.github.io/til/how-to-create-an-empty-git-branch/</link><pubDate>Wed, 12 May 2021 08:05:30 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-create-an-empty-git-branch/</guid><description>What do I mean by an empty branch?
Simply, a branch with no commits.
Why on earth&amp;hellip; Why would one even need an empty branch?
There are not many reasons which come to my mind, but imagine you start a rewrite of an existing project, and you want to start from scratch, but you want to keep the rewrite in the same repository.
For example tox does this:
the current main version is on master the upcoming version 4, which is a complete rewrite, is on the rewrite branch.</description></item><item><title>How Can You Reclaim Some Disk Space From Docker</title><link>https://jugmac00.github.io/til/how-can-you-reclaim-some-disk-space-from-docker/</link><pubDate>Wed, 05 May 2021 22:00:13 +0200</pubDate><guid>https://jugmac00.github.io/til/how-can-you-reclaim-some-disk-space-from-docker/</guid><description>If you use Docker containers, and who doesn&amp;rsquo;t these times, you need to take care that Docker does not accumulate a lot of cruft.
remains of docker run If you start a container via docker run, and without the highly recommended option --rm, the exited Docker container will still leave some remains on your system.
In my case oO&amp;hellip;
❯ docker ps -a CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES c14c0bd0d850 jetbrains/youtrack:2020.</description></item><item><title>What Is the Meaning of Dollar Dollar in Bash</title><link>https://jugmac00.github.io/til/what-is-the-meaning-of-dollar-dollar-in-bash/</link><pubDate>Fri, 30 Apr 2021 18:58:07 +0200</pubDate><guid>https://jugmac00.github.io/til/what-is-the-meaning-of-dollar-dollar-in-bash/</guid><description>I stumbled upon a colleague&amp;rsquo;s bash script which contained the following line, which in isolation, made not much sense to me.
WRKDIR=~/app/work$$ But after some googling and having a look at the complete scope of the script, I finally got it.
... WRKDIR=~/app/work$$ ... mkdir $WRKDIR ... ... ... ... rmdir $WRKDIR $$ is a reference to the PID (process id) it was used to create a unique temporary file All good?</description></item><item><title>How to Run a Bash Script in a Sane Way</title><link>https://jugmac00.github.io/til/how-to-run-a-bash-script-in-a-sane-way/</link><pubDate>Thu, 29 Apr 2021 18:48:26 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-run-a-bash-script-in-a-sane-way/</guid><description>When you never had problems with running/debugging a bash script, you might wonder what I am talking about.
Instead of introducing the possible problems, and then the way to counter them, let&amp;rsquo;s start with the solution.
All your bash scripts should probably start with&amp;hellip;
#!/usr/bin/env bash &amp;hellip; wait&amp;hellip; it goes on&amp;hellip;
set -euxo pipefail Wat? Ok, let&amp;rsquo;s go through the options, one by one.
set -e This makes a bash script to stop on error immediately, and exit.</description></item><item><title>How to Globally Gitignore Configuration Files</title><link>https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/</link><pubDate>Tue, 27 Apr 2021 08:51:48 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-globally-gitignore-configuration-files/</guid><description>Until today, I did not make up my mind about what to do with configuration files, created by e.g. VS Code.
Certainly, I do not want to commit them, but putting it into every&amp;rsquo;s repository .gitignore file is also cumbersome - and sometimes it is not possible.
I always do a git add -u to avoid accidentally adding a venv or similar, so it did not really matter.
Except&amp;hellip;
❯ .</description></item><item><title>How Many Zope Repositories Are Compatible With Pypy?</title><link>https://jugmac00.github.io/til/how-many-zope-repositories-are-compatible-with-pypy/</link><pubDate>Mon, 19 Apr 2021 11:38:06 +0200</pubDate><guid>https://jugmac00.github.io/til/how-many-zope-repositories-are-compatible-with-pypy/</guid><description>Today, Johannes Raggam asked on the Plone/Zope community forum whether Zope is able to run on PyPy.
While I am not entirely sure, and I have some vague memories about potential problems with RestrictedPython, I can certainly grep the almost 300 Zope repositories for signs of PyPy support.
The best sign of PyPy support is IMHO that we run tests for it :-)
In order to grep in all repositories I use all-repos written by Anthony Sottile.</description></item><item><title>How to Replace an URL in All Repositories</title><link>https://jugmac00.github.io/til/how-to-replace-url-in-all-repositories/</link><pubDate>Tue, 06 Apr 2021 11:22:11 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-replace-url-in-all-repositories/</guid><description>Recently Anthony Sottile, one of the maintainers of Flake8, announced on Twitter that the source code repository of Flake8 was moved from GitLab to GitHub.
Those of us, who also use Anthony&amp;rsquo;s pre-commit, now should update their .pre-commit-config.yaml file.
Though there is no hurry, as the repository on GitLab will stay as a mirror.
For one of my repos the .pre-config-config.yaml looks like this:
repos: ... - repo: https://gitlab.com/pycqa/flake8 rev: 3.</description></item><item><title>How to Restrict All Repos Grep to Specific Files</title><link>https://jugmac00.github.io/til/how-to-restrict-all-repos-grep-to-specific-files/</link><pubDate>Mon, 29 Mar 2021 18:42:46 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-restrict-all-repos-grep-to-specific-files/</guid><description>Back at the end of 2020, when Travis announced you need to move your open source projects from https://travis-ci.org to https://travis-ci.com, I wanted to know in which README files I used the link to the org-site - of the many, many repositories I manage.
That is a textbook example what you can do with all-repos.
A naive way would be to grep in all repositories like &amp;hellip;
all-repos-grep travis-ci.org Instead of grepping in all files, it is a better idea to restrict the search to only README files.</description></item><item><title>How to Fix a Broken Rollback on Nixos, caused by mixed Python Environments</title><link>https://jugmac00.github.io/til/how-to-fix-broken-rollback-on-nixos/</link><pubDate>Tue, 23 Mar 2021 19:14:44 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-fix-broken-rollback-on-nixos/</guid><description>Today I tried to update a Nixos channel to 20.09.xxx, but the virtual machine was still running on 15.09, and seemingly the nix-version was pinned.
I got an error saying something like the nix version is too low.
I then tried to do a rollback, but then I got another following error:
ERROR: ./batou --help Return code: 1 STDOUT Running unclean installation from requirements.txt Ensuring unclean install ... .batou/unclean/bin/python -m pip install -r requirements.</description></item><item><title>How to Find All Repositories in a GitHub Organization Which Do Not Follow the Src Layout?</title><link>https://jugmac00.github.io/til/how-to-find-all-repositories-which-do-not-follow-src-layout/</link><pubDate>Fri, 05 Mar 2021 10:49:56 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-find-all-repositories-which-do-not-follow-src-layout/</guid><description>Let&amp;rsquo;s say, while not everybody is convinced, that the so-called src layout is a great idea, at least it is a trend in the Python eco system.
And, e.g. Hynek has written about good reasons to use the src layout.
While my personal and work repositories (mostly) follow the src layout, what about the almost 300 Zope repositories?
all-repos to the rescue I really love to play with all-repos, an awesome tool to manage and manipulate a large amount of git repositories.</description></item><item><title>How to Restrict All Repos to One Github Organization</title><link>https://jugmac00.github.io/til/how-to-restrict-all-repos-to-one-github-organization/</link><pubDate>Thu, 25 Feb 2021 16:36:50 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-restrict-all-repos-to-one-github-organization/</guid><description>Especially, when maintaining many, many git repositories at once, Anthony Sottile&amp;rsquo;s all-repos is a bliss.
You can easily grep for text or find files in, or even apply patches to hundreds or thousands of repositories at once, which I already described in a blog post.
all-repos has a configuration option, which allows you to clone and manage all of your GitHub repositories at once.
Mine looks like&amp;hellip;
{ &amp;#34;output_dir&amp;#34;: &amp;#34;output&amp;#34;, &amp;#34;source&amp;#34;: &amp;#34;all_repos.</description></item><item><title>How Can You Convert an Adobe Illustrator File (AI) to an Encapsulated Postscript File (eps)</title><link>https://jugmac00.github.io/til/how-can-you-convert-an-adobe-illustrator-file-to-an-encapsulated-postscript-file/</link><pubDate>Tue, 19 Jan 2021 22:23:23 +0200</pubDate><guid>https://jugmac00.github.io/til/how-can-you-convert-an-adobe-illustrator-file-to-an-encapsulated-postscript-file/</guid><description>One of my web applications is using RML to render PDFs.
For one PDF document template I received a new logo file which was produced with Adobe Illustrator (file extension .ai).
The RML library cannot handle ai-files, but eps-files.
In order to convert the file I used Ghostscript as following:
gs -dNOPAUSE -dBATCH -sDEVICE=eps2write -sOutputFile=out.eps input.ai where
-dNOPAUSE means &amp;ldquo;no pause after page&amp;rdquo; -dBATCH means &amp;ldquo;exit after last file&amp;rdquo; -sDEVICE selects the device -sOutputFile is the name of the - you can guess it - output file P.</description></item><item><title>How to Install a Python Package Directly From a Git Branch From GitHub</title><link>https://jugmac00.github.io/til/how-to-install-a-python-package-directly-from-a-git-branch-from-github/</link><pubDate>Mon, 11 Jan 2021 08:55:54 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-install-a-python-package-directly-from-a-git-branch-from-github/</guid><description>Bernát Gábor is currently working on a complete rewrite for tox.
I alpha-tested the latest release (4.0.0a2), and reported a couple of problems.
Within a day Bernát published some fixes on the rewrite branch, and asked me to test it.
That means there is no new package on PyPI, yet.
So, I had to install tox directly from GitHub, to be exact, from the rewrite branch:
pip install git+https://github.com/tox-dev/tox@rewrite or more general</description></item><item><title>How to Configure Git for Testing</title><link>https://jugmac00.github.io/til/how-to-configure-git-for-testing/</link><pubDate>Mon, 16 Nov 2020 07:01:19 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-configure-git-for-testing/</guid><description>batou is a configuration management and deployment tool, comparable to Ansible.
With batou you can deploy applications, also from git repositories.
For this batou uses the git binary - so this has to be tested somehow.
One test looks like this&amp;hellip;
def test_git_remote_init_pull(tmpdir): source = tmpdir.mkdir(&amp;#34;source&amp;#34;) dest = tmpdir.mkdir(&amp;#34;dest&amp;#34;) with source.as_cwd(): remote_core.cmd(&amp;#34;git init&amp;#34;) source.join(&amp;#34;foo.txt&amp;#34;).write(&amp;#34;bar&amp;#34;) remote_core.cmd(&amp;#34;git add foo.txt&amp;#34;) remote_core.cmd(&amp;#34;git commit -m bar&amp;#34;) remote_core.ensure_repository(str(dest), &amp;#34;git-bundle&amp;#34;) remote_core.git_pull_code(str(source), &amp;#34;master&amp;#34;) remote_core.git_update_working_copy(&amp;#34;master&amp;#34;) assert &amp;#34;bar&amp;#34; == dest.join(&amp;#34;foo.txt&amp;#34;).read() &amp;hellip; and worked in some environments, even on Travis, but failed on my Ubuntu box, and later also on GH Actions:</description></item><item><title>What Is the Difference Between Docker Create, Docker Start and Docker Run</title><link>https://jugmac00.github.io/til/what-is-the-difference-between-docker-create-docker-start-and-docker-run/</link><pubDate>Thu, 29 Oct 2020 21:56:22 +0200</pubDate><guid>https://jugmac00.github.io/til/what-is-the-difference-between-docker-create-docker-start-and-docker-run/</guid><description>In order to be able to answer this question, you have to know that there are
Docker images Docker containers Docker images are blueprints or templates.
Docker containers are the instances, created from the images.
docker create creates a container from an image
docker start starts a container
docker run creates a container and starts it
note Trying to use the run command twice results in something like&amp;hellip;</description></item><item><title>How to Use the Output of One Bash Command as the Argument of Another</title><link>https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/</link><pubDate>Mon, 07 Sep 2020 18:52:25 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-use-the-output-of-one-bash-command-as-the-argument-of-another/</guid><description>TIL my TIL is not secure There is a security issue with the following description - at least when you handle sensitive data.
see here https://github.com/jugmac00/til/commit/7ea93202cecf97070c8931bbe5a1f64c78d41dcb#commitcomment-42050997
Thanks to Anthony Sottile for reporting!
Please see https://unix.stackexchange.com/questions/205180/how-to-pass-password-to-mysql-command-line for a better way to create a login one-liner.
How do you use the output of one bash command as an argument of another command? For the virtual machines at my web hosting company, the mysql root password is stored in a config file.</description></item><item><title>How Long Does Flask Keep User Generated Data</title><link>https://jugmac00.github.io/til/how-long-does-flask-keep-user-generated-data/</link><pubDate>Fri, 04 Sep 2020 22:06:32 +0200</pubDate><guid>https://jugmac00.github.io/til/how-long-does-flask-keep-user-generated-data/</guid><description>Easy!
Either Flask persists the data into a database or a file, or it does not.
Wait, not so fast. There is also
session scoped data (e.g. storing data in a cookie or similar) app scoped data (e.g. store data on the app object) The caveats
session scoped data is only available for one client, and as long the session lasts app scoped data is only available within a single app - usually, e.</description></item><item><title>How Can You Inject the Language as String Into a Jinja Template</title><link>https://jugmac00.github.io/til/how-can-you-inject-the-language-as-string-into-a-jinja-template/</link><pubDate>Thu, 13 Aug 2020 22:15:25 +0200</pubDate><guid>https://jugmac00.github.io/til/how-can-you-inject-the-language-as-string-into-a-jinja-template/</guid><description>I created a multilingual project using Flask with the help of Flask-Babel.
While the translation mechanism via GNU gettext itself is pretty straightforward, I did not know how to inject the actual language into the Jinja template, so I can use it to set &amp;lt;html lang=&amp;quot;xxx&amp;quot;&amp;gt;.
While it is odd that this is not mentioned in the documentation, once again StackOverflow offered solutions.
solution one Just translate the language!
&amp;lt;html lang=&amp;#34;{{ _(&amp;#39;en&amp;#39;) }}&amp;#34;&amp;gt; That was too simple to think of :-)</description></item><item><title>How to Remove a File From a Git Repository but Keep It Locally</title><link>https://jugmac00.github.io/til/how-to-remove-a-file-from-a-git-repository-but-keep-it-locally/</link><pubDate>Mon, 10 Aug 2020 09:00:14 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-remove-a-file-from-a-git-repository-but-keep-it-locally/</guid><description>For a video project, I have a video folder with videos and subtitle files.
Obviously, I do not want to have hundreds of megabytes in my git repository, so I git ignored them - but I committed the subtitles.
Now, the videos and the subtitles will be served by nginx from a media directory, outside of the project.
In order to delete the subtitles from the git repository, but keep them locally, I have to&amp;hellip;</description></item><item><title>How to Fix an Old Git Commit</title><link>https://jugmac00.github.io/til/how-to-fix-an-old-git-commit/</link><pubDate>Mon, 10 Aug 2020 08:03:11 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-fix-an-old-git-commit/</guid><description>&amp;hellip; which you do not have pushed to a remote repository.
git add &amp;lt;my fixed files&amp;gt; git commit --fixup=OLDCOMMIT git rebase --interactive --autosquash OLDCOMMIT^ via https://twitter.com/nnja/status/796876898005417984?s=03 via https://stackoverflow.com/questions/2719579/how-to-add-a-changed-file-to-an-older-not-last-commit-in-git/27721031#27721031</description></item><item><title>How to Access Name Based Servers in Development Setup</title><link>https://jugmac00.github.io/til/how-to-access-name-based-servers-in-development-setup/</link><pubDate>Mon, 13 Jul 2020 19:19:18 +0200</pubDate><guid>https://jugmac00.github.io/til/how-to-access-name-based-servers-in-development-setup/</guid><description>The problem You run a web application via nginx and you dispatch the requests based on the server name.
And maybe the server name header only gets set via a proxy or an URL, which is currently or permanent not available in your dev setup.
The solution curl -- header &amp;#34;Host: example.com&amp;#34; http://localhost Further information Blog post by the maintainer of curl:
https://daniel.haxx.se/blog/2018/04/05/curl-another-host/</description></item></channel></rss>