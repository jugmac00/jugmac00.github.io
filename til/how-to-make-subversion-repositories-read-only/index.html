<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>How to Make Subversion Repositories Read Only | Jürgen Gmach</title><meta name=keywords content="subversion,svn,apache"><meta name=description content="Finally, at work all other teams gave up Subversion and migrated to git.
The migration went pretty smooth thanks to git svn and a couple of bash scripts, which made sure tags and branches were transferred correctly.
After the migration had been finished, I wanted to shutdown the inherited Subversion server for good - but, I was told to keep it running in read-only mode - for reasons.
Ok, can&rsquo;t be too hard, right?"><meta name=author content><link rel=canonical href=https://jugmac00.github.io/til/how-to-make-subversion-repositories-read-only/><link crossorigin=anonymous href=/assets/css/stylesheet.96771a12b249af1ff464eabdaa85d1a5268a4379a9f2da62cfd409656ff0233b.css integrity="sha256-lncaErJJrx/0ZOq9qoXRpSaKQ3mp8tpiz9QJZW/wIzs=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://jugmac00.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://jugmac00.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://jugmac00.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://jugmac00.github.io/apple-touch-icon.png><link rel=mask-icon href=https://jugmac00.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="How to Make Subversion Repositories Read Only"><meta property="og:description" content="Finally, at work all other teams gave up Subversion and migrated to git.
The migration went pretty smooth thanks to git svn and a couple of bash scripts, which made sure tags and branches were transferred correctly.
After the migration had been finished, I wanted to shutdown the inherited Subversion server for good - but, I was told to keep it running in read-only mode - for reasons.
Ok, can&rsquo;t be too hard, right?"><meta property="og:type" content="article"><meta property="og:url" content="https://jugmac00.github.io/til/how-to-make-subversion-repositories-read-only/"><meta property="article:section" content="til"><meta property="article:published_time" content="2021-08-05T10:25:15+02:00"><meta property="article:modified_time" content="2021-08-05T10:25:15+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="How to Make Subversion Repositories Read Only"><meta name=twitter:description content="Finally, at work all other teams gave up Subversion and migrated to git.
The migration went pretty smooth thanks to git svn and a couple of bash scripts, which made sure tags and branches were transferred correctly.
After the migration had been finished, I wanted to shutdown the inherited Subversion server for good - but, I was told to keep it running in read-only mode - for reasons.
Ok, can&rsquo;t be too hard, right?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Today I Learned","item":"https://jugmac00.github.io/til/"},{"@type":"ListItem","position":3,"name":"How to Make Subversion Repositories Read Only","item":"https://jugmac00.github.io/til/how-to-make-subversion-repositories-read-only/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"How to Make Subversion Repositories Read Only","name":"How to Make Subversion Repositories Read Only","description":"Finally, at work all other teams gave up Subversion and migrated to git.\nThe migration went pretty smooth thanks to git svn and a couple of bash scripts, which made sure tags and branches were transferred correctly.\nAfter the migration had been finished, I wanted to shutdown the inherited Subversion server for good - but, I was told to keep it running in read-only mode - for reasons.\nOk, can\u0026rsquo;t be too hard, right?","keywords":["subversion","svn","apache"],"articleBody":"Finally, at work all other teams gave up Subversion and migrated to git.\nThe migration went pretty smooth thanks to git svn and a couple of bash scripts, which made sure tags and branches were transferred correctly.\nAfter the migration had been finished, I wanted to shutdown the inherited Subversion server for good - but, I was told to keep it running in read-only mode - for reasons.\nOk, can’t be too hard, right?\nA quick search in my favorite search engine revealed some promising hits, e.g. https://stackoverflow.com/a/2411347/672833.\n# give everyone read-only access to the entire repository [reponame:/] * = r Though, there was something different. All the solutions I found on the web were about configuring Subversion itself, but on our Subversion server access was managed via Apache, via Limit, LimitExcept and a bunch of methods/HTTP-verbs I never saw before, e.g. PROPFIND, REPORT…\nThanks to the extensive Apache configuration I quickly found out that Limit limits access and LimitExcept removes the restriction for the configured methods. Dead simple - except - what the hell is PROPFIND and co and how do these methods map to actions in Subversion?\nI directly searched for these verbs and found one page (German), which showed an example on how to restrict write access - bingo!\n# Authorization: Authenticated users only for non-read-only # (write) operations; allow anonymous reads  GET PROPFIND OPTIONS REPORT Require valid-user  Though, again, there was no explanation about what the methods mean.\nUsually, I really like to dig deep and fully understand what I am doing, but here we had an ancient technology, combined with a webserver which I do not use…\nSo I called it a day and updated the configuration…\n# deny write access for all  GET PROPFIND OPTIONS REPORT Require all denied  As you can see, I only allowed an exception for - nobody.\nAfter I applied the changes, I verified both the working read-access and the no longer working write-access manually.\nIf you know more about this topic, or a better solution, do not hesitate to contact me.\n","wordCount":"346","inLanguage":"en","datePublished":"2021-08-05T10:25:15+02:00","dateModified":"2021-08-05T10:25:15+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://jugmac00.github.io/til/how-to-make-subversion-repositories-read-only/"},"publisher":{"@type":"Organization","name":"Jürgen Gmach","logo":{"@type":"ImageObject","url":"https://jugmac00.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://jugmac00.github.io accesskey=h title="Jürgen Gmach (Alt + H)">Jürgen Gmach</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://jugmac00.github.io/about/ title=about><span>about</span></a></li><li><a href=https://jugmac00.github.io/blog/ title=blog><span>blog</span></a></li><li><a href=https://jugmac00.github.io/til/ title=til><span>today-i-learned</span></a></li><li><a href=https://jugmac00.github.io/talks/ title=talks><span>talks</span></a></li><li><a href=https://jugmac00.github.io/hiring/ title=hiring><span>hiring</span></a></li><li><a href=https://jugmac00.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>How to Make Subversion Repositories Read Only</h1><div class=post-meta><span title="2021-08-05 10:25:15 +0200 +0200">August 5, 2021</span></div></header><div class=post-content><p>Finally, at work all other teams gave up <a href=https://subversion.apache.org/>Subversion</a>
and migrated to <a href=https://git-scm.com/>git</a>.</p><p>The migration went pretty smooth thanks to <code>git svn</code> and a couple of bash scripts,
which made sure tags and branches were transferred correctly.</p><p>After the migration had been finished,
I wanted to shutdown the inherited Subversion server for good - but,
I was told to keep it running in read-only mode - for reasons.</p><p>Ok, can&rsquo;t be too hard, right?</p><p>A quick search in my favorite search engine revealed some promising hits,
e.g. <a href=https://stackoverflow.com/a/2411347/672833>https://stackoverflow.com/a/2411347/672833</a>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-ini data-lang=ini><span style=color:#75715e># give everyone read-only access to the entire repository</span>
<span style=color:#66d9ef>[reponame:/]</span>
<span style=color:#a6e22e>*</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>r</span>
</code></pre></div><p>Though, there was something different.
All the solutions I found on the web were about configuring Subversion itself,
but on our Subversion server access was managed via Apache,
via <code>Limit</code>, <code>LimitExcept</code> and a bunch of methods/HTTP-verbs I never saw before,
e.g. <code>PROPFIND</code>, <code>REPORT</code>&mldr;</p><p>Thanks to the extensive Apache configuration I quickly found out
that <code>Limit</code> limits access and <code>LimitExcept</code> removes the restriction for the configured methods.
Dead simple - except - what the hell is <code>PROPFIND</code> and co and how do these methods map to actions in Subversion?</p><p>I directly searched for these verbs and found <a href=https://svnbook.red-bean.com/en/1.8/svn.serverconfig.httpd.html>one page (German)</a>,
which showed an example on how to restrict write access - bingo!</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apacheconf data-lang=apacheconf><span style=color:#75715e># Authorization: Authenticated users only for non-read-only</span>
<span style=color:#75715e>#                (write) operations; allow anonymous reads</span>
<span style=color:#f92672>&lt;LimitExcept</span> <span style=color:#e6db74>GET PROPFIND OPTIONS REPORT</span><span style=color:#f92672>&gt;</span>
  Require valid-user
<span style=color:#f92672>&lt;/LimitExcept&gt;</span>
</code></pre></div><p>Though, again, there was no explanation about what the methods mean.</p><p>Usually, I really like to dig deep and fully understand what I am doing,
but here we had an ancient technology,
combined with a webserver which I do not use&mldr;</p><p>So I called it a day and updated the configuration&mldr;</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-apacheconf data-lang=apacheconf><span style=color:#75715e># deny write access for all</span>
<span style=color:#f92672>&lt;LimitExcept</span> <span style=color:#e6db74>GET PROPFIND OPTIONS REPORT</span><span style=color:#f92672>&gt;</span>
  Require <span style=color:#66d9ef>all</span> denied
<span style=color:#f92672>&lt;/LimitExcept&gt;</span>
</code></pre></div><p>As you can see, I only allowed an exception for - nobody.</p><p>After I applied the changes,
I verified both the working read-access and the no longer working write-access manually.</p><p>If you know more about this topic,
or a better solution,
do not hesitate to contact me.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://jugmac00.github.io/tags/subversion/>subversion</a></li><li><a href=https://jugmac00.github.io/tags/svn/>svn</a></li><li><a href=https://jugmac00.github.io/tags/apache/>apache</a></li></ul></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://jugmac00.github.io>Jürgen Gmach</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>